<html>
    <script type="text/javascript">
    var functionlist = {};
    
                    functionlist['SUPPORT_WLAN_L2_ISOLATION'] = '1';
    
                    functionlist['SUPPORT_GUI_APPLY_WITHOUT_REBOOT'] = '1';
    
                    functionlist['SUPPORT_AP_MODE_ONLY'] = '1';
    
                    functionlist['SUPPORT_ALL_ENCRYPTION_HAS_RADIUS_ACCOUNTING'] = '1';
    
                    functionlist['SUPPORT_BANDSTEER_FORCE_5G'] = '1';
    
                    functionlist['SUPPORT_HIDDEN_CHANGES_OPTION'] = '1';
    
                    functionlist['SUPPORT_MIN_RATE_SETTING'] = '1';
    
                    functionlist['SUPPORT_BUSINESS_SERIES'] = '1';
    
                    functionlist['SUPPORT_RENEW_CONNECT_STATUS_BY_BUTTON'] = '1';
    
                    functionlist['SUPPORT_TX_POWER_SETTING'] = '1';
    
                    functionlist['SUPPORT_COMBINED_SSID_SETTING'] = '1';
    
                    functionlist['SUPPORT_WLAN5G'] = '1';
    
                    functionlist['SUPPORT_SCAN_RESULT_SHOW_TYPE'] = '1';
    
                    functionlist['SUPPORT_IMAGE_HEADER_CHECK'] = '1';
    
                    functionlist['SUPPORT_BANDSTEER_SELECT_LIST'] = '1';
    
                    functionlist['SUPPORT_MD5_PASSWORD'] = '1';
    
                    functionlist['SUPPORT_RSSI_THRESHOLD_MSG'] = '1';
    
                    functionlist['SUPPORT_NAS_IP_ADDR'] = '1';
    
                    functionlist['SUPPORT_GUEST_NETWORK_SETTING'] = '1';
    
                    functionlist['SUPPORT_IPERF_PORT_V6'] = '1';
    
                    functionlist['SUPPORT_DISPLAY_SERIAL_NUMBER'] = '1';
    
                    functionlist['SUPPORT_HIDE_WIZARD'] = '1';
    
                    functionlist['SUPPORT_IPV6_LINKLOCAL_COMMON'] = '1';
    
                    functionlist['SUPPORT_BRUTE_FORCE'] = '1';
    
                    functionlist['SUPPORT_FULL_FW_VERSION'] = '1';
    
                    functionlist['SUPPORT_DUAL_FAST_HANDOVER'] = '1';
    
                    functionlist['SUPPORT_FAST_ROAMING_PER_SSID'] = '1';
    
                    functionlist['HWMODE_AX'] = '1';
    
                    functionlist['SUPPORT_MANAGEMENT_SSID'] = '1';
    
                    functionlist['SUPPORT_GREENMODE_SETTING'] = '1';
    
                    functionlist['SUPPORT_AUTORF_RADIO_BUTTON'] = '1';
    
                    functionlist['SUPPORT_SYSTIME'] = '1';
    
                    functionlist['SUPPORT_MULTI_TO_UNI_CONVERSION'] = '1';
    
                    functionlist['SUPPORT_MULTI_LANGUAGE'] = '1';
    
                    functionlist['SUPPORT_WLAN24G'] = '1';
    
                    functionlist['HWMODE_AC'] = '1';
    
                    functionlist['SUPPORT_WPA3'] = '1';
    
                    functionlist['SUPPORT_GUEST_NETWORK_BY_SSID'] = '1';
    
                    functionlist['SUPPORT_MODIFY_MGMT_SSID'] = '1';
    
                    functionlist['SUPPORT_FAST_ROAMING_SETTING'] = '1';
    
                    functionlist['SUPPORT_LED_MODULE_NAME'] = '1';
    
                    functionlist['SUPPORT_ALL_ENCRYPTION_HAS_RADIUS_SETTING'] = '1';
    
                    functionlist['SUPPORT_DAY0'] = '1';
    
                    functionlist['SUPPORT_LOGIN_WITHOUT_USERNAME'] = '1';
    
                    functionlist['SUPPORT_WIRELESS_TRAFFIC_SHAPING'] = '1';
    
                    functionlist['SUPPORT_RENEW_STATISTICS_BY_BUTTON'] = '1';
    
                    functionlist['NOT_SUPPORT_HTTPS_SETTINGS_DISPLAY'] = '1';
    
                    functionlist['SUPPORT_COUNTRY_SETTING'] = '1';
    
                    functionlist['NOT_SUPPORT_DEVICE_DISCOVERY'] = '1';
    
    
    var vendorlist = {};
    
                    vendorlist['TXPOWER_MAX_5G'] = '20';
    
                    vendorlist['TXPOWER_MIN_5G'] = '11';
    
                    vendorlist['WIFIJET_SUPPORT_RADIO'] = '0';
    
                    vendorlist['TXPOWER_MAX_24G'] = '20';
    
                    vendorlist['TXPOWER_MIN_24G'] = '11';
    
                    vendorlist['ManagementVLANID_MAX_VALUE'] = '4094';
    
                    vendorlist['WEB_GUI_VER'] = '2';
    
                    vendorlist['WDS_MAC_ADDR_NUM'] = '8';
    
                    vendorlist['WDSAP_WDS_WIFI_IFACE_NUM'] = '1';
    
                    vendorlist['PORTAL_LIMIT_NUM'] = '8';
    
                    vendorlist['WDSB_WIFI_IFACE_NUM'] = '1';
    
                    vendorlist['MANAGEMENT_SUPPORT_RADIO'] = '1';
    
                    vendorlist['WDSAP_AP_WIFI_IFACE_NUM'] = '4';
    
                    vendorlist['ManagementVLANID_MIN_VALUE'] = '1';
    
                    vendorlist['CONNECTION_LIMIT_NUM'] = '64';
    
                    vendorlist['SUPPORT_RESET_FACTORY_SCRIPT'] = '/etc/reset_factory_default.sh';
    
                    vendorlist['AP_WIFI_IFACE_NUM'] = '4';
    
                    vendorlist['BURN_FIRMWARE_TIME'] = '600';
    
                    vendorlist['DUT_REBOOT_TIME'] = '120';
    
                    vendorlist['STA_WIFI_IFACE_NUM'] = '1';
    
                    vendorlist['STA_AP_WIFI_IFACE_NUM'] = '0';
    
                    vendorlist['WDSSTA_WIFI_IFACE_NUM'] = '1';
    
    </script>
    
    <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="style/cascade.css">
    <link rel="stylesheet" href="style/cascade-custom.css">
    <script src="script/jquery-1.12.4.min.js"></script>
    <script src="script/common.js"></script>
    <script type="text/javascript" src="script/md5.js"></script>
    <script type="text/javascript" src="script/cbi.js"></script>
    
    <script>
    function ajax_setCsrf(){
        var url , container ,data;
        url = '/cgi-bin/luci/;stok=a99d1f84a085f20797c4f1e75a2cf711/admin/system/ajax_setCsrf';
        ajax_normal({
            async: false,
            type : "GET",
            url:url,
            data:data,
            dataType:"json",
            error:function(){
            },
            success:function(result){
            }
        });
    }
    function doCookieSetup(name, value, days)
    {
        if (days)
        {
            var date = new Date();
            date.setTime(date.getTime()+(days*24*60*60*1000));
            var expires = "; expires="+date.toGMTString();
        }
        else
        {
            var expires = "";
        }
        document.cookie = name+"="+value+expires+"; path=/";
    }
    function eraseCookie(name)
    {
        doCookieSetup(name,"",-1);
    }
    // eraseCookie("is_login");
    // eraseCookie("serialize");
    
    function isprotecting(){
        // $$("input[name='submitType']").val("wifi_encrytion");
        // $$('form').submit();
        $$('form').submit(function() {
            // $$("input[name='submitType']").val("wifi_Setting");
            // var formdata = $(this).serialize()+"19930408\n";
            // var reg = /cbi\.apply\=Apply|submitType\=Save|&|\=|-*/g;
            // formdata = formdata.replace(reg,"");
            // doCookieSetup("serialize", hex_md5(formdata), 1);
            window.opener.updateChanges("wifi_Encryption_Combined", $$('form').serialize());
            window.close();
        });
    }
    function wifiEncryptionCombinedApply(){
        if (confirm("$wireless_info40"))
        {
            isprotecting();checkRule.check(0)
        }
    }
    </script>
    
    <STYLE type="text/css">
    * {
        margin: 0;
        padding: 0;
    }
    form {
        font-family: helvetica,arial,verdana,sans-serif;
    }
    table {
        border-collapse: collapse;
        text-align: center;
    }
    input {
        font-family: sans-serif;
        font-size: 16px;
        color : black;
    }
    input[type="button"] {
        margin-left: 1px;
        margin-right: 9px;
        padding-left: 10px;
        padding-right: 10px;
    }
    input[type="submit"] {
        margin-left: 1px;
        margin-right: 9px;
        padding-left: 10px;
        padding-right: 10px;
    }
    input[type="file"] {
        background-color: #F0F0F0;
        margin-left: 1px;
        margin-right: 9px;
        padding-right: 10px;
    }
    input[type="checkbox"] {
        margin-left: 3px;
        margin-right: 3px;
    }
    input[type="radio"] {
        margin-right: 3px;
    }
    .radio_en {
        margin-left: 3px;
        margin-right: 3px;
    }
    .radio_en_label {
        margin-right: 9px;
    }
    input[type="text"] {
        border: 1px solid #D0D0D0;
        margin-left: 2px;
        margin-right: 6px;
        padding: 2px;
    }
    
    input[type="text"][readonly="readonly"] {
        border: 0 none #D0D0D0;
        font-size: 16px;
        margin-right: 6px;
    }
    input[type="password"] {
        border: 1px solid #D0D0D0;
        margin-left: 2px;
        margin-right: 6px;
        padding: 2px;
    }
    textarea {
        margin: 2px;
        padding: 2px;
    }
    select {
        border: 1px solid #D0D0D0;
        font-size: 16px;
        margin: 2px 6px 2px 2px;
         color : black;
    }
    a {
        outline: medium none;
    }
    li {
        color: #000000;
        font-size: 16px;
        line-height: 24px;
    }
    .msg_type_mark {
        color: red;
        font-size: 16px;
        font-weight: bold;
        margin-right: 9px;
    }
    .outer-bg {
        background-color: #F5F5F5;
    }
    .inner-bg {
        background-color: #FFFFFF;
    }
    .banner .ban_logo {
        width: 1202px;
    }
    .banner .ban_info {
        width: 1202px;
    }
    .banner .banner_shadow {
        width: 1202px;
    }
    .ban_logo {
        background: url("image/banner_logo.png") repeat scroll 0 0 transparent;
        height: 71px;
    }
    .ban_info {
        background-color: #1B489C;
        border-bottom-left-radius: 12px;
        border-bottom-right-radius: 12px;
        border-collapse: separate;
        border-spacing: 0;
        height: 41px;
    }
    .model {
        background-color: #1B489C;
        border-radius: 12px 12px 12px 12px;
        color: #FFFFFF;
        font-size: 20px;
        text-align: center;
        width: 181px;
    }
    .padding {
        background-color: #1B489C;
        width: 30px;
    }
    .description {
        background-color: #1B489C;
        color: #FFFFFF;
        font-weight: bold;
        text-align: left;
        width: 750px;
    }
    .buttons {
        background-color: #F1F1F1;
        border-bottom: 1px solid #1B489C;
        border-left: 1px none #1B489C;
        border-right: 1px solid #1B489C;
        border-style: none solid solid none;
        color: #000000;
        font-weight: bold;
        padding: 10px;
        width: 12%;
    }
    .buttons:nth-child(4) {
        border-top-left-radius: 10px;
    }
    .buttons:last-child {
        border-top-right-radius: 10px;
    }
    .buttons:nth-child(4) {
        border-bottom-left-radius: 10px;
    }
    .buttons:last-child {
        border-bottom-right-radius: 10px;
    }
    .buttons:nth-child(4) {
        border-left-style: solid;
    }
    .buttons img {
        cursor: pointer;
    }
    .buttons:hover {
        background-color: #9FDCFF;
        cursor: pointer;
    }
    .banner_shadow {
        background: url("image/banner_shadow.png") no-repeat scroll 0 0 transparent;
        height: 20px;
    }
    .function .menu {
        width: 1202px;
    }
    .function {
        background-color: white;
        border-color: #1B489C;
        border-left: 1px solid #1B489C;
        border-radius: 12px 12px 12px 12px;
        border-right: 1px solid #1B489C;
        border-style: solid;
        border-top: 1px solid #1B489C;
        width: 1202px;
    }
    .menu_blank {
        height: 34px;
        width: 195px;
    }
    .menu_bg {
        height: 486px;
        text-align: left;
        vertical-align: top;
    }
    .menu_major {
        background-color: #1B489C;
        font-size: 16px;
        font-weight: 600;
        height: auto;
        padding-bottom: 6px;
        padding-left: 15px;
        padding-top: 6px;
    }
    .menu_major_on {
        color: #FFFFFF;
    }
    .menu_major_off {
        color: #FFFFFF;
    }
    .menu_minor {
        border-bottom: 1px solid #9FDCFF;
        font-size: 16px;
        padding-left: 45px;
    }
    .menu_minor:hover {
        background-color: #9FDCFF;
        cursor: pointer;
    }
    .datahighlight {
        background-color: #9FDCFF;
        cursor: pointer;
    }
    .menu_minor_on {
        background-color: #9FDCFF;
        color: #000000;
        height: auto;
        padding-bottom: 4px;
        padding-top: 4px;
    }
    .menu_minor_off {
        background-color: #FFFFFF;
        color: #000000;
        height: auto;
        padding-bottom: 4px;
        padding-top: 4px;
    }
    .ctx-container {
        border-left: 1px solid #1B489C;
        text-align: left;
        vertical-align: top;
    }
    .ctx-iframe {
        height: 540px;
        overflow: auto;
        width: 100%;
    }
    .ctx-merge-iframe {
        height: 350px;
        overflow: auto;
        width: 100%;
    }
    .ctx-head-padding {
        height: 20px;
        width: 100%;
    }
    .ctx-head {
        height: 12px;
    }
    .ctx-body {
        padding-left: 40px;
        padding-right: 38px;
    }
    .ctx-blank {
        height: 45px;
    }
    .ctx-foot {
        height: 20px;
    }
    .bottommargin {
        margin-bottom: 20px;
    }
    .ecm-tbl {
        width: 100%;
    }
    .ecm-tbl div {
        display: inline;
    }
    .ecm-tbl th {
        font-size: 18px;
        font-weight: normal;
        height: 40px;
        /* padding-left: 10px; */
        text-align: left;
    }
    .ecm-tbl .onepx {
        border-right: 1px solid #FFFFFF;
    }
    .ecm-tbl .tbl-name {
        padding-left: 10px;
        text-align: left;
        padding-top:0px;
        padding-bottom:0px;
        vertical-align : middle;
    }
    .ecm-tbl .tbl-value {
        padding-left: 10px;
        text-align: left;
        padding-top:0px;
        padding-bottom:0px;
        vertical-align : middle;
    }
    .ecm-tbl .tbl-grey {
        background-color: #EEEEEE;
        padding-left: 6px;
        vertical-align : middle;
    }
    .ecm-tbl .tbl-grey-15px {
        background-color: #EEEEEE;
        padding-left: 6px;
    }
    .ecm-tbl .tbl-middle {
        padding-left: 6px;
    }
    .ecm-tbl .margin-indent {
        margin-left: 1em;
    }
    .ecm-tbl .margin-indent:before {
        content: "- ";
    }
    .ecm-tbl .margin-indent1_4 {
        margin-left: 1.4em;
    }
    .ecm-tbl .margin-indent1_6 {
        margin-left: 1.6em;
    }
    .ecm-tbl .margin-indent3 {
        margin-left: 2.5em;
    }
    .ecm-tbl .margin-indent3:before {
        content: "- ";
    }
    .ecm-tbl .float-align {
        float: right;
    }
    .tbl-blank {
        border-top: 1px solid #1B489C;
        height: 0px;
    }
    .tbl-name {
        border-bottom: 1px solid #EEEEEE;
        color: #000000;
        font-size: 16px;
        height: 27px;
    }
    .tbl-value {
        border-bottom: 1px solid #EEEEEE;
        color: #000000;
        font-size: 16px;
        height: 27px;
    }
    .tbl-grey {
        border-bottom: 1px solid #EEEEEE;
        color: #000000;
        font-size: 16px;
        height: 27px;
    }
    .tbl-grey-15px {
        border-bottom: 1px solid #EEEEEE;
        color: #000000;
        font-size: 15px;
        height: 27px;
        line-height: 19px;
    }
    .tbl-middle {
        border-bottom: 1px solid #EEEEEE;
        color: #000000;
        font-size: 16px;
        height: 27px;
    }
    .tbl-alighTop {
        border-bottom: 1px solid #EEEEEE;
        padding-left: 8px;
        text-align: left;
        vertical-align: top;
    }
    .striped {
        background-color: #F0F0F0;
    }
    .caution_padding {
        padding-left: 10px;
    }
    .button1 {
        background: url("./image/overlay.png") repeat-x scroll left center #00AFF0;
        border: 1px solid #63CEF6;
        border-radius: 4px 4px 4px 4px;
        box-shadow: 0 0 0 rgba(22, 142, 199, 0.5) inset;
        color: #FFFFFF;
        cursor: pointer;
        font: 16px tahoma,arial,sans-serif;
        height: 30px;
        margin: 10px 20px 20px 0;
        min-width: 100px;
        padding: 3px 8px 6px;
        width: 100px;
    }
    .buttonPM {
        background: url("./image/overlay.png") repeat-x scroll left center #00AFF0;
        border: 1px solid #63CEF6;
        border-radius: 4px 4px 4px 4px;
        box-shadow: 0 0 0 rgba(22, 142, 199, 0.5) inset;
        color: #FFFFFF;
        cursor: pointer;
        font: 16px tahoma,arial,sans-serif;
        height: 30px;
        min-width: 100px;
        padding: 3px 8px 6px;
        width: 100px;
    }
    .button1:hover {
        background: url("./image/but_mouseover.png") repeat-x scroll center top #00AFF0;
        border: 1px solid #3E97CE;
        color: #FFFFFF;
    }
    .button1:active {
        background: url("./image/but_mouseover2.png") repeat-x scroll center top #00AFF0;
        border: 1px solid #3E97CE;
        color: #FFFFFF;
        position: relative;
        top: 0;
    }
    .button2 {
        background: url("./image/overlay.png") repeat-x scroll left center #00AFF0;
        border: 1px solid #63CEF6;
        border-radius: 4px 4px 4px 4px;
        box-shadow: 0 0 0 rgba(22, 142, 199, 0.5) inset;
        color: #FFFFFF;
        cursor: pointer;
        font: 16px tahoma,arial,sans-serif;
        height: 30px;
        margin: 10px 20px 20px 0;
        min-width: 100px;
        padding: 3px 8px 6px;
        width: 200px;
    }
    .desc_style {
        font-size: 12px;
        text-align: center;
        vertical-align: middle;
    }
    .div1 {
        display: inline;
    }
    .quater_Smaller {
        font-size: 80%;
    }
    .popbox {
        background: none repeat scroll 0 0 #EEEFEB;
        box-shadow: 0 0 5px 0 #A4A4A4;
        color: #000000;
        display: none;
        margin: 0;
        padding: 10px;
        position: absolute;
        width: 400px;
        z-index: 99999;
    }
    .input-disabled{
        background-color:black;
        border:1px solid #ABADB3;
        padding:2px 1px;
    }
    
    .tc_unit_select {
        display: inline-block;
        width: 70px;
        height: 30px;
        padding: 4px;
        font-size: 16px;
        line-height: 18px;
        color: black;
        border: 1px solid #ccc;
        -webkit-border-radius: 3px;
        -moz-border-radius: 3px;
        border-radius: 3px;
    
    }
    
     select:disabled {
        background-color : #CDCDCD;
        color : gray;
    }
    
     input:disabled {
        background-color : #CDCDCD;
        color : gray;
    }
    
    </STYLE>
    
    <script type="text/javascript">
    var is_form_submit = "0";
    var isolateOld = false;
    var isolateManual = false;
    var titleSetting, titleSec, titleBasicSetting;
    var netId = '<% cfg_get("netId") %>'
    
    
    
    
    
    //deal with AP mode title -------------------------------------------------------------------------
    var ap_radio_str = "";
    
        ap_radio_str += " 2.4GHz";
    
    
    
        if(ap_radio_str != ""){
            ap_radio_str += "/5GHz";
        }else{
            ap_radio_str += " 5GHz";
        }
    
    
    
    //deal with AP mode title -------------------------------------------------------------------------
    
    //deal with WDS_AP mode title -------------------------------------------------------------------------
    var wds_ap_radio_str = "";
    
    
    
    
    
    //deal with WDS_AP mode title -------------------------------------------------------------------------
    
      titleBasicSetting = "$wireless_setting - $access_point "+ap_radio_str;
    
    
    
    
    
    
        titleSetting = "$wireless_sec";
    
        titleSec = "$wireless_sec";
    
    
    var checkRule= (function(){
        var checkResult = true,
        isReg = function(type,data){
            var reg;
            switch(type){
                case "port":
                            reg = /^([0-9]{1,4}|[1-5][0-9]{4}|6[0-4][0-9]{3}|65[0-4][0-9]{2}|655[0-2][0-9]|6553[0-5])$$/;
                            break;
                case "host":
                            reg = /^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$$/;
                            break;
                case "range1-64":
                            reg = /\b([1-9]|[1-5][0-9]|6[0-4])\b/;
                            break;
                case "range1-999":
                            reg = /\b[1-9][0-9]{0,2}\b/;
                            break;
                case "range1-999999":
                            reg = /\b[1-9][0-9]{0,5}\b/;
                            break;
                case "range30-3600":
                            reg = /\b([0]|[3-9][0-9]|[1-9][0-9]{2}|[12][0-9]{3}|3[0-5][0-9]{2}|3600)\b/;
                            break;
                case "range60-600":
                            reg = /\b([6-9][0-9]|[1-5][0-9]{2}|600)\b/;
                            break;
                case "wepkey":
                            reg = /^([0-9a-fA-F]{10})$$|^(.{5})$$|^([0-9a-fA-F]{26})$$|^(.{13})$$|^([0-9a-fA-F]{32})$$|^(.{16})$$/;
                        break;
                case "wpakey":
                            reg = /^([0-9a-fA-F]{64})$$|^([\x00-\x7F]{8,63})$$/ ;
                        break;
                case "secret":
                            reg = /^([\S\s]{1,64})$$/ ;
                        break
            }
            return reg.test(data);
        },
        statrtCheck = function(){

        if(wpsCheck()&&wep_key_check()&&bssid_check()&&l2_whitelist_check()&&text_check()&&vlanidCheck()&&bandsteerCheck()){
            is_form_submit = "1";
            $$('#submitType').val("wifi_encrytion");
            $$('form').submit();
        }
            return false;
    
        },
        vlanidCheck = function(){
            //VALN ID rule start ******************************
        
        
            var has_isolation='0',has_isolation_for_lacp="0";
            var invalid_id='0',invalid_M_id='0';
            var str='%s%s value is out of range %s';
            var min_vlan_id  = parseInt("1",10);
            var max_vlan_id  = parseInt("4094",10);
            var vlanId_bad_format = false; 
            
            
            $$('input:text:enabled[name$$="ManagementVLANID"]').each(function(){
                var n = parseInt($$(this).val(), 10);
                if(!isNumber($$(this).val()) || !isBetween(n, min_vlan_id, max_vlan_id)){
                    $$(this).focus();
                    invalid_M_id = '1';
                    vlanId_bad_format = true;
                    return false;
                }
            });
    
            if(invalid_M_id == '1'){
                alert(String.format(str, "Management VLAN ID", ":", "[1 - 4094]"));
                vlanId_bad_format = true;
                return false;
            }
            
            var check_duplicate_vlan_id = '0';
            
        $$(':text:visible:enabled[name$$="vlan_id"]').each(function(){
                var test_vlan_id = $$(this).val();
                var times = 0;
    
                var n = parseInt($$(this).val(), 10);
                if(!isNumber($$(this).val()) || !isBetween(n, min_vlan_id, max_vlan_id)){
                    $$(this).focus();
                    invalid_id = '1';
                    vlanId_bad_format = true;
                    return false;    
                }
    
                $$(':text:visible:enabled[name$$="vlan_id"]').each(function(){
                    if($$(this).val()==test_vlan_id){
                        times++;
                    }
                });
                if(times > 1){
                    check_duplicate_vlan_id = '1';
                }
            });
    
        if(invalid_id == '1'){
                alert(String.format(str, "VLAN ID", ":",  "[1 - 4094]"));
                vlanId_bad_format = true;
                return false;
            }
        
        if(vlanId_bad_format){
            return false;   
        }
    
        return true;
        //VALN ID rule end ******************************
        },
        bandsteerCheck = function(){
        //Bandsteering rule start ******************************
        var str='%s%s value is out of range %s';
        var bad_format = false ;
        $$(':text:visible:enabled[name$$="bandsteerrssi"]').each(function(){
                var n = parseInt($$(this).val(), 10);
                
                if(!isBetween(n, -80, -60)){
                    bad_format = true;
                    alert(String.format(str, "$rssi", ":", "[-80 - -60]"));
                    return false;
                }
                
            });
    
            $$(':text:visible:enabled[name$$="bandsteerpersent"]').each(function(){
                var n = parseInt($$(this).val(), 10);
                if(!isNumber($$(this).val()) || !isBetween(n, 0, 100)){
                    bad_format = true;
                    alert(String.format(str, "$percent_of_clients", ":", "[0 - 100]"));
                    return false;
                }
            });
    
          if(bad_format){
           return false ;
            }
    
        return true;
        //Bandsteering rule end ******************************
        },
        wpsCheck = function(){
            
            
            return true;
        },
        text_check = function(){
            $$(':text:enabled:visible').each(function(){
                if (!$$(this).attr('name').match(".key") && !$$(this).attr('name').match(".ssid"))
                    $$(this).val($$(this).val().trim());
            });
            var str='%s%s value is out of range %s', str2='Key%d: only hex digits allowed [0-9,a-f,A-F]';
            if($$('input:enabled[name$$="auth_port"]').length>0){
                if($$('input:enabled[name$$="auth_port"]').val()<=0 || isReg("port",$$('input:enabled[name$$="auth_port"]').val())==false || !isNumber($$('input:enabled[name$$="auth_port"]').val())){
                    alert(String.format(str, "Radius Port", ":", "[1 - 65535]"));
                    return false;
                }
            }
            if($$('input:enabled[name$$="nasid"]').length>0){
                var nasid_length = $$('input:enabled[name$$="nasid"]').val().length||0;
                if(nasid_length<3||nasid_length>32){
                    alert("NAS-ID: length must between 3 and 32!");
                    return false;
                }
                else{
                    if(isFullwidth($$('input:enabled[name$$="nasid"]').val()) || isChinese($$('input:enabled[name$$="nasid"]').val()) || !isPattern2($$('input:enabled[name$$="nasid"]').val())){
                        alert("NAS-ID: # ` \' \" : ; \\ / [ ] & (Space) are invalid characters.");
                        return false;
                    }
                }
            }
            if($$('input:enabled[name$$="nasport"]').length>0){
                if(isReg("port",$$('input:enabled[name$$="nasport"]').val())==false || !isNumber($$('input:enabled[name$$="nasport"]').val())){
                    alert(String.format(str, "NAS-PORT", ":", "[0 - 65535]"));
                    return false;
                }
            }
            if($$('input:enabled[name$$="nasip"]').length>0){
                if(!isIpaddr($$('input:enabled[name$$="nasip"]').val())){
                alert("$wireless_info29");
                    return false;
            }
            if(isMulticast($$('input:enabled[name$$="nasip"]').val())){
                alert("$wireless_info30");
            return false;
            }
            if(isLinklocal($$('input:enabled[name$$="nasip"]').val())){
                alert("$wireless_info31");
            return false;
            }
            if(isLoopback($$('input:enabled[name$$="nasip"]').val())){
                alert("$wireless_info32");
            return false;
            }
            }
            if($$('input:enabled[name$$="acct_port"]').length>0){
                if($$('input:enabled[name$$="acct_port"]').val()<=0 || isReg("port",$$('input:enabled[name$$="acct_port"]').val())==false || !isNumber($$('input:enabled[name$$="acct_port"]').val())){
                    alert(String.format(str, "Radius Accounting Port", ":", "[1 - 65535]"));
                    return false;
                }
            }
            if($$('input:enabled[name$$="auth_server"]').length>0){
                if(isReg("host",$$('input:enabled[name$$="auth_server"]').val())==false){
                    alert("$wireless_info33");
                    return false;
                }
                if(isMulticast($$('input:enabled[name$$="auth_server"]').val())){
                    alert("$wireless_info33");
                    return false;
                }
                if(isLinklocal($$('input:enabled[name$$="auth_server"]').val())){
                    alert("$wireless_info33");
                    return false;
                }
                if(isLoopback($$('input:enabled[name$$="auth_server"]').val())){
                    alert("$wireless_info33");
                    return false;
                }
    
                if(!isIpaddr($$('input:enabled[name$$="auth_server"]').val())){
                    alert("$wireless_info33");
                    return false;
                }
            }
            if($$('input:enabled[name$$="acct_server"]').length>0){
                if(isReg("host",$$('input:enabled[name$$="acct_server"]').val())==false){
                    alert("$wireless_info34");
                    return false;
                }
                if(isMulticast($$('input:enabled[name$$="acct_server"]').val())){
                     alert("$wireless_info34");
                    return false;
                }
                if(isLinklocal($$('input:enabled[name$$="acct_server"]').val())){
                     alert("$wireless_info34");
                    return false;
                }
                if(isLoopback($$('input:enabled[name$$="acct_server"]').val())){
                     alert("$wireless_info34");
                    return false;
                }
                if(!isIpaddr($$('input:enabled[name$$="acct_server"]').val())){
                     alert("$wireless_info34");
                    return false;
                }
            }
    
            if($$('input:enabled[name$$=".key"]').length>0){
                //I use SUPPORT_ATKK_FW_VERSION define to determine the ATKK products
                if(isReg("wpakey",$$('input:enabled[name$$=".key"]').val())==false || ( functionlist.SUPPORT_ATKK_FW_VERSION == 1 && !isPattern1($$('input:enabled[name$$=".key"]').val()))){
                    alert("$wireless_info35");
                    return false;
                }
            }
    
    
    
            for(var i=1;i<=4;i=i+1){
                var this_wepkey = $$('input:enabled[name$$=".key'+i+'"]');
                if(this_wepkey.length>0 && this_wepkey.val()!=""){
                    if(isReg("wepkey",this_wepkey.val())==false){
                        alert(String.format(str2, i));
                        return false;
                    }
                }
            }
    
            if($$('input:enabled[name$$="wpa_group_rekey"]').length>0){
                if($$('input:enabled[name$$="wpa_group_rekey"]').val()<0 || isReg("range30-3600",$$('input:enabled[name$$="wpa_group_rekey"]').val())==false || !isNumber($$('input:enabled[name$$="wpa_group_rekey"]').val())){
                    alert(String.format(str, "$group_key_update_interval", ":", "[30 - 3600]"));
                    return false;
                }
            }
    
            if($$('input:enabled[name$$="acct_interval"]').length>0){
                if($$('input:enabled[name$$="acct_interval"]').val()<0 || isReg("range60-600",$$('input:enabled[name$$="acct_interval"]').val())==false || !isNumber($$('input:enabled[name$$="acct_interval"]').val())){
                    alert(String.format(str, "$interim_account_interval", ":", "[60 - 600]"));
                    return false;
                }
            }
    
            if($$('input:enabled[name$$="auth_secret"]').length>0){
                if(isReg("secret",$$('input:enabled[name$$="auth_secret"]').val())==false){
                    alert("$radius_secret_info");
                    return false;
                }
            }
    
            if($$('input:enabled[name$$="acct_secret"]').length>0){
                if(isReg("secret",$$('input:enabled[name$$="acct_secret"]').val())==false){
                    alert("$radius_account_info");
                    return false;
                }
            }
            
            if($$('input:enabled[name$$="tc_downlimit"]').length>0){
                if ( $$('select[name$$="tc_down_unit"]').val() == "Mbps" )
                {
                    if($$('input:enabled[name$$="tc_downlimit"]').val()<=0 || isReg("range1-999",$$('input:enabled[name$$="tc_downlimit"]').val())==false || !isNumber($$('input:enabled[name$$="tc_downlimit"]').val())){
                        alert(String.format(str, "$download_limit", ":", "[1 - 999]"));
                        return false;
                    }
                }
                else
                {
                    if($$('input:enabled[name$$="tc_downlimit"]').val()<=0 || isReg("range1-999999",$$('input:enabled[name$$="tc_downlimit"]').val())==false || !isNumber($$('input:enabled[name$$="tc_downlimit"]').val())){
                        alert(String.format(str, "$download_limit", ":", "[1 - 999999]"));
                        return false;
                    }
                }
            }
    
            if($$('input:enabled[name$$="tc_uplimit"]').length>0){
                if ( $$('select[name$$="tc_up_unit"]').val() == "Mbps" )
                {
                    if($$('input:enabled[name$$="tc_uplimit"]').val()<=0 || isReg("range1-999",$$('input:enabled[name$$="tc_uplimit"]').val())==false || !isNumber($$('input:enabled[name$$="tc_uplimit"]').val())){
                        alert(String.format(str, "$upload_limit", ":", "[1 - 999]"));
                        return false;
                    }
                }
                else
                {
                    if($$('input:enabled[name$$="tc_uplimit"]').val()<=0 || isReg("range1-999999",$$('input:enabled[name$$="tc_uplimit"]').val())==false || !isNumber($$('input:enabled[name$$="tc_uplimit"]').val())){
                        alert(String.format(str, "$upload_limit", ":", "[1 - 999999]"));
                        return false;
                    }
                }
            }

            var bad_format = false;
            $$(':text:visible:enabled[name$$="ssid"]').each(function(){
                var length = 0;
                var i = 0;
                for( i = 0 ; i < $$(this).val().length ; i++ )
                {
                    if ( ( $$(this).val().charCodeAt(i) >= 0X2E80 && $$(this).val().charCodeAt(i) <= 0X2FDF ) || ( $$(this).val().charCodeAt(i) >= 0X3400 && $$(this).val().charCodeAt(i) <= 0X4DBF ) || ( $$(this).val().charCodeAt(i) >= 0X4E00 && $$(this).val().charCodeAt(i) <= 0X9FFF ) || ( $$(this).val().charCodeAt(i) >= 0XF900 && $$(this).val().charCodeAt(i) <= 0XFAFF ) || ( $$(this).val().charCodeAt(i) >= 0X20000 && $$(this).val().charCodeAt(i) <= 0X2A6DF ) || ( $$(this).val().charCodeAt(i) >= 0X2F800 && $$(this).val().charCodeAt(i) <= 0X2FA1F ) )
                        length = length + 3;
                    else 
                        length = length + 1;
                }
                if(length<1||length>32){
                    bad_format = true;
                    alert("$wireless_info11");
                    return false;
                }
            })

            if(bad_format){
                return false ;
            }

            var ssid1 = window.opener.$$('input[name="cbid.wireless.wifix_ssid_1.ssid"]').val();
            var ssid1Disable = parseInt(window.opener.$$('input[name="cbid.wireless.wifix_ssid_1.disabled"]').val());
            var ssid2 = window.opener.$$('input[name="cbid.wireless.wifix_ssid_2.ssid"]').val();
            var ssid2Disable = parseInt(window.opener.$$('input[name="cbid.wireless.wifix_ssid_2.disabled"]').val());
            var ssid3 = window.opener.$$('input[name="cbid.wireless.wifix_ssid_3.ssid"]').val();
            var ssid3Disable = parseInt(window.opener.$$('input[name="cbid.wireless.wifix_ssid_3.disabled"]').val());
            var ssid4 = window.opener.$$('input[name="cbid.wireless.wifix_ssid_4.ssid"]').val();
            var ssid4Disable = parseInt(window.opener.$$('input[name="cbid.wireless.wifix_ssid_4.disabled"]').val());
            var same = false;
            var mgmtssid = htmlDecode('<% cfg_get_ssid_value("wlg_mgmt_ssid") %>');
            var currentssid = null;

            if (netId == "wifi0.network1")
            {
                currentssid = $$('input[name="cbid.wireless.wifi0_ssid_1.ssid"]').val();
                if (currentssid == ssid2 && !ssid2Disable)
                {
                    same = true;
                }
                else if (currentssid == ssid3 && !ssid3Disable)
                {
                    same = true;
                }
                else if (currentssid == ssid4 && !ssid4Disable)
                {
                    same = true;
                }
            }
            else if (netId == "wifi0.network2")
            {
                currentssid = $$('input[name="cbid.wireless.wifi0_ssid_2.ssid"]').val();
                if (currentssid == ssid1 && !ssid1Disable)
                {
                    same = true;
                }
                else if (currentssid == ssid3 && !ssid3Disable)
                {
                    same = true;
                }
                else if (currentssid == ssid4 && !ssid4Disable)
                {
                    same = true;
                }
            }
            else if (netId == "wifi0.network3")
            {
                currentssid = $$('input[name="cbid.wireless.wifi0_ssid_3.ssid"]').val();
                if (currentssid == ssid1 && !ssid1Disable)
                {
                    same = true;
                }
                else if (currentssid == ssid2 && !ssid2Disable)
                {
                    same = true;
                }
                else if (currentssid == ssid4 && !ssid4Disable)
                {
                    same = true;
                }
            }
            else if (netId == "wifi0.network4")
            {
                currentssid = $$('input[name="cbid.wireless.wifi0_ssid_4.ssid"]').val();
                if (currentssid == ssid1 && !ssid1Disable)
                {
                    same = true;
                }
                else if (currentssid == ssid2 && !ssid2Disable)
                {
                    same = true;
                }
                else if (currentssid == ssid3 && !ssid3Disable)
                {
                    same = true;
                }
            }
            
            if (currentssid == mgmtssid)
            {
                same = true;
            }

            if (same == true)
            {
                alert("$ssid_name_should_be_unique");
                return false;
            }

            return true;
        },
        wep_key_check = function(){
            if($$('select[name$$="encryption"]').val()=="wep"){
                var input_type =  $$('select[name$$="input_type"]').val();
                var key_length =  $$('select[name$$="key_length"]').val();
                var key_id =  $$('select[name$$="key_id"]').val();
                var key_value =  $$('input[name$$=\"key'+key_id+'\"]').val().replace(/^([s][:])/,"");
    
                if(key_value.length != (input_type=="hex"?key_length:key_length/2)){
                    alert("$wireless_info36");
                    return false;
                }
            }
            return true;
        },
        
        l2_whitelist_check = function()
        {
            var ret = true, i, j;
            if($$('input:visible:enabled[name^="l2_whitelist"]').length>0)
            {
                // var reg  = /^([0-9A-F]{2}[:-]){5}([0-9A-F]{2})$$/ ;
                var reg = /^([0-9A-F][0,2,4,6,8,A,C,E][:])([0-9A-F]{2}[:]){4}([0-9A-F]{2})$$/;
                var mac_str = "";
				// alert("l2_whitelist_check   ");
                $$('input:visible:enabled[name^="l2_whitelist"]').each(function()
                {
                    var mac_str = "";
                    mac_str = $$(this).val();
					// alert("mac_str = "+"   "+mac_str);
                    if((mac_str!="" && reg.test(mac_str.toUpperCase())==false) || mac_str=="00:00:00:00:00:00" )
                    {
                        alert("$wrong_mac_address"+"   "+mac_str);
                        ret =  false;
                        return false;
                    }
					// alert("this.val= "+"   "+$$this).val());
                    $$(this).val(mac_str.toUpperCase());
                });
                for(i=1; i<4; i=i+1)
                {
                    if ($$('input[name$$="l2_whitelist_'+i+'"]').val() != "")
                    {
						//alert("i = "+"   "+i);
                        for (j=i+1; j<4; j=j+1)
                        {
                            if ($$('input[name$$="l2_whitelist_'+j+'"]').val() != "")
                            {
                                //alert("i="+i+", j="+j);
                                if ($$('input[name$$="l2_whitelist_'+i+'"]').val() == $$('input[name$$="l2_whitelist_'+j+'"]').val())
                                {
                                    var str1='$dup_mac_info', str2='Whitelist';
                                    alert(String.format(str1, str2));
                                    ret =  false;
                                    return false;
                                }
                            }
                        }
                    }
                }
            }
            return ret;
        },
        
        bssid_check = function(){
         if($$('input[name$$="bssid"]').length>0){
            //var reg  = /^([0-9A-F]{2}[:-]){5}([0-9A-F]{2})$$/ ;
            var reg = /^([0-9A-F][0,2,4,6,8,A,C,E][:-])([0-9A-F]{2}[:-]){4}([0-9A-F]{2})$$/;
            var bssid_str = "";
                $$('#bssid_span').children().each(function(){
                     bssid_str += bssid_str==""?$$(this).val():":"+$$(this).val();
                });
    
                if(bssid_str!=""&&reg.test(bssid_str.toUpperCase())==false){
                    alert("$wrong_mac_address"+"   "+bssid_str);
                    return false;
                }
    
            }
               return true;
    
        },
        acl_check = function(){
        if($$('select[name$$="macfilter"]').length>0){
            // var reg  = /^([0-9A-F]{2}[:-]){5}([0-9A-F]{2})$$/ ;
            var reg = /^([0-9A-F][0,2,4,6,8,A,C,E][:-])([0-9A-F]{2}[:-]){4}([0-9A-F]{2})$$/;
            var aclid_str = "";
                $$('#acl_span').children(':text').each(function(){
                     aclid_str += aclid_str==""?$$(this).val():":"+$$(this).val();
                });
                if((aclid_str!="" && reg.test(aclid_str.toUpperCase())==false) || aclid_str=="00:00:00:00:00:00" ){
                    alert("Wrong MAC address!"+"   "+aclid_str);
                    return false;
                }
    
            }
               return aclid_str.toUpperCase();
    
        };
    
        return{
            check : statrtCheck,
            acl_check : acl_check
        };
    
    
    }());
    var bssid = (function(){
        var init = function(){
        /*handle bssid copyto*/
        if($$('input[name$$="bssid"]').length>0){
            $$('#bssid_span').show().insertBefore($$('input[name$$="bssid"]'));
            $$('#bssid_span').children().each(function(){
                 $$(this).css('width',"60px");
            });
             $$('input[name$$="bssid"]').hide();
            var bssid_value = $$('input[name$$="bssid"]').val()||"";
            if(bssid_value!=""){
    
            var bssid_array = bssid_value.split(":");
                for(var i = 0 ;i<bssid_array.length;i=i+1){
                    $$('input[name$$="bssid'+i+'"]').val(bssid_array[i]);
                }
            }
    
            $$('input[name$$="preferbssid_enable"]').click(function(){
                var flag = this.checked?false:true;
                    $$('input[name$$="bssid"]').attr("disabled",flag);
                     $$('#bssid_span').children().each(function(){
                     $$(this).attr("disabled",flag);
                    });
            });
    
            $$('input[name$$="preferbssid_enable"]').each(function(){
                $$(this).closest("tr").hide();
                // $$(this).insertBefore($$('input[name$$="bssid"]'));
                $$(this).insertBefore($$('#bssid_span'));
                $$(this).triggerHandler("click");
             });
         }
     },
     save = function(){
        if($$('input[name$$="bssid"]').length>0){
            var bssid_str = "";
                $$('#bssid_span').children().each(function(){
                     bssid_str += bssid_str==""?$$(this).val():":"+$$(this).val();
                });
            $$('input[name$$="bssid"]').val(bssid_str.toUpperCase());
        }
     };
    
    
    
            return{
            init : init,
            save : save
        };
    }());
    
    var acl_table = (function(){
        var maclist={},this_macfilter,max_size = 32,
    
        init = function(){
        var mac_filter = void 0;
        var allow_str = "";
        var deny_str = "";

        if (netId == "wifi0.network1") {
            mac_filter = JSON.parse('<% cfg_get("wl_mac_filter", "wlg1") %>');
            $$('select[name$$="macfilter"]').val(mac_filter.filter);
            allow_str = mac_filter.allow;
            deny_str = mac_filter.deny;
        } else if (netId == "wifi0.network2") {
            mac_filter = JSON.parse('<% cfg_get("wl_mac_filter", "wlg2") %>');
            $$('select[name$$="macfilter"]').val(mac_filter.filter);
            allow_str = mac_filter.allow;
            deny_str = mac_filter.deny;
        } else if (netId == "wifi0.network3") {
            mac_filter = JSON.parse('<% cfg_get("wl_mac_filter", "wlg3") %>');
            $$('select[name$$="macfilter"]').val(mac_filter.filter);
            allow_str = mac_filter.allow;
            deny_str = mac_filter.deny;
        } else if (netId == "wifi0.network4") {
            mac_filter = JSON.parse('<% cfg_get("wl_mac_filter", "wlg4") %>');
            $$('select[name$$="macfilter"]').val(mac_filter.filter);
            allow_str = mac_filter.allow;
            deny_str = mac_filter.deny;
        } else if (netId == "wifi0.network20") {
            mac_filter = JSON.parse('<% cfg_get("wl_mac_filter", "wlgMgmt") %>');
            $$('select[name$$="macfilter"]').val(mac_filter.filter);
            allow_str = mac_filter.allow;
            deny_str = mac_filter.deny;
        }
    
    
        maclist.dut_mac = [];
    
        maclist.dut_mac.push('9C:C9:EB:FF:FF:8F');
    
        maclist.dut_mac.push('9C:C9:EB:FF:FF:90');
    
        maclist.dut_mac.push('9C:C9:EB:FF:FF:8E');
    
        maclist.dut_mac.push('A2:C9:EB:FF:FF:8F');
    
        maclist.dut_mac.push('9C:C9:EB:FF:FF:8E');
    
        maclist.dut_mac.push('A2:C9:EB:FF:FF:8F');
    
        maclist.dut_mac.push('9C:C9:EB:FF:FF:8F');
    
        maclist.dut_mac.push('9C:C9:EB:FF:FF:90');
    
        maclist.dut_mac.push('9C:C9:EB:FF:FF:8F');
    
        maclist.allow = (allow_str.length == 0)?[]:allow_str.split(" ");
        maclist.deny = (deny_str.length == 0)?[]:deny_str.split(" ");
    
           if($$('select[name$$="macfilter"]').length>0){
             this_macfilter = $$('select[name$$="macfilter"]');
               $$tmp = '<tr class="title-option" keep="keep"><td width="30%"></td><td width="70%" id ="acl_id_field"></td></tr>' +
                       '<tr class="title-option" keep="keep"><td width="30%">No.</td><td width="70%">$mac_address</td></tr>';
               $$('#tbl_macfilter').append($$tmp);
                $$('#acl_span').show().appendTo($$('#acl_id_field'));
    
                $$('#acl_span').children().each(function(){
                     $$(this).css('width',"60px");
                });
    
    
    
                $$('select[name$$="macfilter"]').change(function(){
                    var flag = $$(this).val()== ""?true:false;
                         $$('#acl_span').children().each(function(){
                         $$(this).attr("disabled",flag);
                        });
    
                });
    
                $$('#acl_btn').click(function(){
                    var result = checkRule.acl_check();
                    if(result != false){
                        add(this_macfilter.val(),result);
                       this_macfilter.triggerHandler('change');
                       this_macfilter.triggerHandler('change');
                    }
    
                });
           }
    
        },
        isFull = function(list_name){
            return maclist[list_name].length >= max_size ;
        },
        inArray = function(list_name,element){
          return  jQuery.inArray( element, maclist[list_name])>-1?true:false;
        },
        lanCheck = function(element){
          return  jQuery.inArray( element, maclist.dut_mac)>-1?true:false;
        },
        add = function(list_name,element){
            var str='$dup_mac_info', str2='$table_full_info';
            var list_str;
            list_str = (list_name=="$allow")?"$allow":"$deny";
            if(inArray(list_name,element)){
                alert(String.format(str, list_str));
            }else if(lanCheck(element)){
                alert("$dup_lan_mac_addr");
            }else if(isFull(list_name)){
                alert(String.format(str2, list_str, max_size));
            }
            else{
                maclist[list_name].push(element);
            }
    
        },
        del = function(list_name,index){
    
            maclist[list_name].splice(index,1);
            this_macfilter.triggerHandler('change');
            this_macfilter.triggerHandler('change');
        },
        drawTable = function(list_name){
    
            $$table = $$('#tbl_macfilter');
    
            for(var i in maclist[list_name]){
                var j;
                var $$tr = $$(document.createElement('tr'));
                $$tr.addClass("title-option");
                $$tr.appendTo($$table);
    
                var $$num = $$(document.createElement('td'));
                var $$mac = $$(document.createElement('td'));
                var $$mac_text = $$("<span />", {
                 text: maclist[list_name][i]+"  "
                });
                var $$button = $$('<button/>', {
                  type: 'button',
                'class': 'cbi-button',
                  id: list_name+"_"+i,
                  text: 'Delete'
                });
                    $$num.text(parseInt(i)+1);
                    j=parseInt(i)+1;
                    $$num.appendTo($$tr);
                    $$num.attr("myid",wifiRadio+"_aclmac_no"+j);
                    $$mac.appendTo($$tr);
                    $$mac.append($$mac_text);
                    $$mac_text.appendTo($$mac);
                    $$mac_text.attr("myid",wifiRadio+"_aclmac_list"+j);
                    $$button.appendTo($$mac);
    
                 $$('#'+list_name+"_"+i).bind('click',function(){
                    var tmp = $$(this).attr("id").split("_");
                        del(tmp[0],tmp[1]);
                 });
    
            }
    
        },
        save = function(){
            if($$('select[name$$="macfilter"]').length>0){
                var networkName = '<% cfg_get("networkName") %>';
    
    
                var allow_str = (maclist["allow"].length==0)?"":maclist["allow"].join(" ");
                var deny_str = (maclist["deny"].length==0)?"":maclist["deny"].join(" ");
                switch(this_macfilter.val()){
                    case "allow":
                            $$('input[name$$="allowmaclist"]').val(allow_str);
                            $$("form").append('<input type="hidden"  name="cbid.wireless.'+networkName+'.denymaclist" value="'+deny_str+'">');
                            break;
                    case "deny":
                            $$('input[name$$="denymaclist"]').val(deny_str);
                            $$("form").append('<input type="hidden"  name="cbid.wireless.'+networkName+'.allowmaclist" value="'+allow_str+'">');
                            break;
                }
            }
        };
    
        return {
            init :init,
            add: add,
            del:del,
            drawTable : drawTable,
            save : save
        };
    
    }());
    
        $$(function() {
    
        var max = 230;
        var tbl_id ;
           $$('#cbi_set div').each(function(){
             var type = this.type ? this.type : this.nodeName.toLowerCase();
             var className = $$(this).attr("class")||"";
    
                if(className.indexOf("cbi-value")>-1){
                    var id = $$(this).attr("id")||"";
                    var title = $$(this).find("label").first().text()||"";
                    var label = $$(this).find("label").attr("for")||"";
                     $$(this).find("label").each(function(){
                        if($$(this).attr("for").indexOf("enabled1")==-1 && $$(this).attr("for").indexOf("fastroamingEnable1")==-1){
                            $$(this).css({
                                'color': '#fff',
                                'font-size': '1px',
                                'height': '1px',
                                'float':'left',
                                'display':'block',
                                'margin-right':'1px',
                                'width':"1px"
                            });
                        }
                     });
                 //   $$(this).find("label").remove();
                    $$(this).find("div").removeClass("cbi-value-field");
                    if(id!=""&&title!=""){
                        var tail_id = id.split(/-/g)[3]||"";
                        $$tmp = '<tr id="'+tail_id+'_row" class="title-option"><td width="30%" myid='+idchangeArray_for[label]+'>'+title+'</td><td width="70%"><div id ="'+id+'_field"></div></td></tr>';
    
                        if(tail_id.indexOf("ssid")>-1){
                            tbl_id = "tbl_ssid";
                        }else if(tail_id.indexOf("disabled")>-1){
                            tbl_id = "tbl_wireless_setting";
                        }else if(tail_id.indexOf("bandsteer_en")>-1){
                            tbl_id = "tbl_bandsteering";
                        }else if(tail_id.indexOf("encryption")>-1){
                            tbl_id = "tbl_security";
                        }else if(tail_id.indexOf("maclist")>-1){
                            tbl_id = "tbl_macfilter";
                        }else if(tail_id.indexOf("adv_search")>-1){
                            tbl_id = "tbl_fastroaming";
                        }else if(tail_id.indexOf("macfilter")>-1){
                            tbl_id = "tbl_macfilter";
                        }else if(tail_id.indexOf("tc_")>-1){
                            tbl_id = "tbl_tc";
                        }else if(tail_id.indexOf("roaming")>-1){
                            tbl_id = "tbl_fastroaming";
                        }else if(tail_id.indexOf("acct_")>-1){
                            if (functionlist.SUPPORT_ALL_ENCRYPTION_HAS_RADIUS_ACCOUNTING  == 1){
                                tbl_id = "tbl_radius_acctounting";
                            }
                        }else{
                            tbl_id = "tbl_security";
                        }
                        $$('#'+tbl_id).append($$tmp);
                        $$('#'+id+'_field').replaceWith($$('#'+id));
                        if(functionlist.SUPPORT_Protected_Management_Frames==1){
                            if(tail_id.indexOf("ieee80211w")>-1){
                                $$( "#"+tail_id+"_row" ).insertAfter("#cipher_row");
                            }
                        }
                       //deal with wireless setting table
                       if(tail_id.indexOf("hidden")>-1){
                           $$( "#"+tail_id+"_row" ).insertAfter("#disabled_row");
                       }
                       if(tail_id.indexOf("isolate")>-1){
                           $$( "#"+tail_id+"_row" ).insertAfter("#hidden_row");
                       }
                       if(tail_id.indexOf("isolation")>-1){
                           $$( "#"+tail_id+"_row" ).insertAfter("#isolate_row");
                       }
                       if(tail_id.indexOf("l2_isolatior")>-1){
                           $$( "#"+tail_id+"_row" ).insertAfter("#isolation_row");
                       }
                    }
    
                }
    
            });
    
        $$('table').each(function(){
            if($$(this).find('tr').length <2){
                $$(this).hide();
            }
    
    
        });
    
    
    
    
        
    
    
        $$('select[name$$="encryption"]').change(function(){
            var  fastroaming_available = ((functionlist.SUPPORT_FAST_ROAMING_ONLY_ENTERPRISE  == 1)?($$(this).val()=="wpa-mixed"||$$(this).val()=="wpa2"):($$(this).val()=="wpa2"||$$(this).val()=="wpa-mixed"||$$(this).val()=="psk2"||$$(this).val()=="psk-mixed"));
    
            if($$('#tbl_fastroaming').find('tr').length >1&&fastroaming_available){
                if($$('#tbl_fastroaming').find('tr').length >1&&($$('select[name$$="cipher"]').val()=="ccmp"||$$('select[name$$="cipher"]').val()=="tkip+ccmp")){

                    $$('#tbl_fastroaming').show();
                
                    $$('#tbl_fastroaming').find("*").attr("disabled",false);
                
                }
                else{
                    $$('input[type="radio"][name$$="fastroamingEnable"][value="0"]').prop("checked",true);
                    $$('#tbl_fastroaming').hide();
                    //$$('#tbl_fastroaming').find("*").attr("disabled",true);
                }
                
                
            }
            else{
                $$('input[type="radio"][name$$="fastroamingEnable"][value="0"]').prop("checked",true);
                $$('#tbl_fastroaming').hide();
                //$$('#tbl_fastroaming').find("*").attr("disabled",true);
            }
    
    
        $$('select[name$$="cipher"]').unbind("change",cipherChange);
        $$('select[name$$="cipher"]').bind("change",cipherChange);
        $$("tr[id$$='suite_b_row']").hide();
        });
    
        var cipherChange = function(){
            $$('select[name$$="encryption"]').trigger("change");
        }
    
        bssid.init();
        acl_table.init();
    
        var isEmpty=false;
        $$('input[name^="aclid"]').each(function(){
            $$(this).keyup(function(e){
                var thisAclid=$$(this);
                //console.log(e.keyCode);
                //console.log($$(this).val().length);
                if ($$(this).val().length==2)
                {
                    if(((e.keyCode>=96)&&(e.keyCode<=105))||((e.keyCode>=65)&&(e.keyCode<=70))) // 0~9 A~F
                        $$(this).next().focus();
                }
                if ($$(this).val().length==0 && isEmpty)
                {
                    if(e.keyCode == 8) // backspace
                        $$(this).prev().focus();
                }
                if ($$(this).val().length>0)
                    isEmpty=false;
                else
                    isEmpty=true;
            });
            $$(this).click(function(){
               if ($$(this).val().length>0)
                    isEmpty=false;
                else
                    isEmpty=true;
            });
            $$(this).focus(function(){
               if ($$(this).val().length>0)
                    isEmpty=false;
                else
                    isEmpty=true;
            });
        });
        var acct_enabled_handler =function(){
        $$(':text[name$$="acct_server"] ,:text[name$$="acct_port"] ,input[name$$="acct_secret"] ,:text[name$$="acct_interval"]').attr("disabled",$$(this).val()==0?true:false);
        $$('input:checked[name$$="acct_enabled"]').triggerHandler("click");
        };
    
    
        var changelayout = function() {
            var max = 230;
            var eventTrigger = $$(this).attr("name").indexOf("macfilter")>-1?true:false;
            // if($$(this).attr("name").indexOf("input_type")>-1||$$(this).attr("name").indexOf("key_length")>-1){
            //     $$(this).change(wep_maxlength_func);
            // }
            $$(this).closest("tr").nextAll("tr").each(function(){
                if($$(this).find("td:empty").length>0||eventTrigger){
                  if($$(this).attr("keep")!="keep"){
                     $$(this).remove();
                  }
    
                }
    
            });
    
            /*refresh element*/
            $$('#cbi_set div').each(function(){
            var type = this.type ? this.type : this.nodeName.toLowerCase();
            var className = $$(this).attr("class")||"";
                if(className.indexOf("cbi-value")>-1){
                    var id = $$(this).attr("id")||"";
                    var tail_id = id.split(/-/g)[3]||"";
    
                        if(tail_id.indexOf("ssid")>-1){
                            tbl_id = "tbl_ssid";
                        }else if(tail_id.indexOf("disabled")>-1){        
                            tbl_id = "tbl_wireless_setting";
                        }else if(tail_id.indexOf("bandsteer_en")>-1){
                            tbl_id = "tbl_bandsteering";
                        }else if(tail_id.indexOf("encryption")>-1){
                            tbl_id = "tbl_security";
                        }else if(tail_id.indexOf("maclist")>-1){
                            tbl_id = "tbl_macfilter";
                        }else if(tail_id.indexOf("adv_search")>-1){
                            tbl_id = "tbl_fastroaming";
                        }else if(tail_id.indexOf("macfilter")>-1){
                            tbl_id = "tbl_macfilter";
                        }else if(tail_id.indexOf("tc_")>-1){
                            tbl_id = "tbl_tc";
                        }else if(tail_id.indexOf("roaming")>-1){
                            tbl_id = "tbl_fastroaming";
                        }else if(tail_id.indexOf("acct_")>-1){
                            if (functionlist.SUPPORT_ALL_ENCRYPTION_HAS_RADIUS_ACCOUNTING  == 1){
                                tbl_id = "tbl_radius_acctounting";
                            }
                        }else{
                            tbl_id = "tbl_security";
                        }
    
                    var title = $$(this).find("label").first().text()||"";
                    var label = $$(this).find("label").attr("for")||""
                     $$(this).find("label").each(function(){
                        if($$(this).attr("for")){
                        if($$(this).attr("for").indexOf("adv_search1")==-1 && $$(this).attr("for").indexOf("enabled1")==-1){
                            $$(this).css({
                                'color': '#fff',
                                'font-size': '1px',
                                'height': '1px',
                                'float':'left',
                                'display':'block',
                                'margin-right':'1px',
                                'width':"1px"
                            });
                        }
                        }
                     });
                    $$(this).find("div").removeClass("cbi-value-field");
    
                    $$(this).find('select').change(changelayout);
                    // $$(this).find('select').each(function(){$$(this).unbind('change',changelayout);$$(this).bind('change',changelayout);});
    
                    if(id!=""&&title!=""){
                        $$tmp = '<tr id="'+tail_id+'_row" class="title-option"><td width="30%" myid='+idchangeArray_for[label]+'>'+title+'</td><td width="70%"><div id ="'+id+'_field"></div></td></tr>';
                        $$('#'+tbl_id).append($$tmp);
                        $$('#'+id+'_field').replaceWith($$('#'+id));
                        if(functionlist.SUPPORT_Protected_Management_Frames==1){
                            if(tail_id.indexOf("ieee80211w")>-1){
                                $$( "#"+tail_id+"_row" ).insertAfter("#cipher_row");
                            }
                        }
                    }
    
                    if(tbl_id == "tbl_macfilter"){
                        $$('#'+id).closest("tr").hide();
                        if(id.indexOf("allowmaclist")>-1){
                            acl_table.drawTable("allow");
                        }
                         if(id.indexOf("denymaclist")>-1){
                            acl_table.drawTable("deny");
                        }
                    }
    
                }
            });
    
        };
    
        var wep_maxlength_func = function(){
            var type = $$('select[name$$="input_type"]').val();
            var length = parseInt($$('select[name$$="key_length"]').val());
             length = (type == "hex")? length : length/2;
    
            for(var i=1;i<=4;i=i+1){
                $$('input:enabled[name$$=".key'+i+'"]').attr('maxlength',length);
            }
    
        };
    
        $$('select[name$$="encryption"]').change(function(){
            if((functionlist.SUPPORT_ALL_ENCRYPTION_HAS_RADIUS_ACCOUNTING  == 1) ||$$(this).val()=="wpa"||$$(this).val()=="wpa2"||$$(this).val()=="wpa-mixed"){
                 $$('input[name$$="acct_enabled"]').change(acct_enabled_handler);
                 $$('input[name$$="acct_enabled"]').triggerHandler("change");
            }
            $$('div .cbi-value').each(function()
            {
                $$(this).css("margin-bottom", "0");
            });
            $$('.cbi-value-title').each(function()
            {
                $$(this).css("line-height", "0");
            });
    
            if($$(this).val()=="wep"){
                $$('select[name$$="key_length"]').change(wep_maxlength_func);
                $$('select[name$$="input_type"]').change(wep_maxlength_func);
                $$('select[name$$="key_length"]').triggerHandler("change");
                $$('select[name$$="input_type"]').triggerHandler("change");
            }
        });
         $$( 'select[name$$="encryption"], select[name$$="macfilter"]').change(changelayout);
         $$( 'input:radio[name$$="wifi0.fastroamingEnable"],input:radio[name$$="wifi1.fastroamingEnable"] ' ).click(changelayout);
    
            $$("form").submit(function() {
            
                $$('#displayMode').val("ap");       
                
                
                if($$('input[name^="cbid.wireless.wifi0_ssid_"][name$$="disabled"]').is(":checked")){
                     $$('#wifi0Disabled_tmp').val("0");
                 }else{
                     $$('#wifi0Disabled_tmp').val("1");
                 }
                
                
                 
                             
                       if($$('input[name^="cbid.wireless.wifi1_ssid_"][name$$="disabled"]').is(":checked")){
                           $$('#wifi1Disabled_tmp').val("0");
                       }else if($$('input[name^="cbid.wireless.wifi1_enjet"][name$$="disabled"]').is(":checked")){
                           $$('#wifi1Disabled_tmp').val("0");
                       }else{
                           $$('#wifi1Disabled_tmp').val("1");
                       }
                           
                
    
                
                
        
                $$('input:text[name$$="maclist"]').each(function(){
                    $$(this).attr("name",$$(this).attr("id"));
                });
    
    
                $$('input').each(function(){
                    var type = $$(this).attr("type");
                    if(type=="checkbox" && !this.checked && !$$(this).attr("disabled")){
    
                        $$(this).prev("input:hidden").attr("name",$$(this).attr("name"));
                        $$(this).prev("input:hidden").val($$(this).val()=='0'?'1':'0');
    
                    }
    
                });
    
                var encr = $$('select[name$$="encryption"]').val();
                var cipher = $$('select[name$$="cipher"]').val();
                var encr_name = $$('select[name$$="encryption"]').attr("name");
    
                if(encr=="wep"){
                    var wep_str = $$('select[name$$="encryption"]').val()+"-"+$$('select[name$$="auth_type"]').val();
                    $$('select[name$$="auth_type"]').attr("disabled",true);
                    $$('select[name$$="input_type"]').attr("disabled",true);
                    $$('select[name$$="key_length"]').attr("disabled",true);
    
    
                    for(var i=1;i<=4;i=i+1){
    
                       var key_value =  $$('input[name$$=\"key'+i+'\"]').val().replace(/^([s][:])/,"");
    
                       if(key_value.length == 5 || key_value.length == 13 || key_value.length == 16){
                        key_value = "s:"+key_value;
                       }
                       $$('input[name$$=\"key'+i+'\"]').val(key_value);
                    }
    
                    $$(".encryremove").remove();
                    $$("form").append('<input type="hidden" class="encryremove" name="'+encr_name+'" value="'+wep_str+'">');
                    $$('select[name$$="encryption"]').attr("disabled",true);
    
                }
    
                if(encr!="undefined"&&encr!=""&&(cipher=="tkip"||cipher=="ccmp"||cipher=="tkip+ccmp")){
                        encr = encr+"+"+cipher;
                    $$(".encryremove").remove();
                    $$("form").append('<input type="hidden" class="encryremove" name="'+encr_name+'" value="'+encr+'">');
                    $$('select[name$$="cipher"]').attr("disabled",true);
                    $$('select[name$$="encryption"]').attr("disabled",true);
                }
                else if (encr!="undefined"&&encr!=""&&(encr!="wep")){
                    $$(".encryremove").remove();
                    $$("form").append('<input type="hidden" class="encryremove" name="'+encr_name+'" value="'+encr+'">');
                    $$('select[name$$="encryption"]').attr("disabled",true);
                }
    
                bssid.save();
                acl_table.save();
            
            var vlan_id = $$('input:text[name$$="vlan_id"]').val();
            $$('#vlan_id').val(vlan_id);
    
             
            if($$("select[name$$='bandsteer']").val()!="0"){
                $$("input[name$$='<% cfg_get("networkName") %>.bandsteerrssi']").val(parseInt($$("input[name$$='<% cfg_get("networkName") %>.bandsteerrssi']").val(),10)+95);
            }
            $$(':input:visible:enabled[name$$="bandsteer_en"]').val(($$('input[name$$="bandsteer_en"][value=1]').is(":checked"))?$$('select[name$$="bandsteer"]').val():"0");
                    
            });
            // $$(':radio ,:checkbox').each(function()
            // {
            //     $$(this).css({
            //         'width':"24px",
            //         "border":"0"
            //     });
            // });
            $$(':button').each(function()
            {
                if($$(this)[0].id != "encryption_submit")
                {
                    $$(this).css({
                        'height':'30px',
                        'width':"100px"
                    });
                }
            });
            $$('select[name$$="encryption"]').triggerHandler("change");
             $$('select[name$$="macfilter"]').triggerHandler("change");
             $$('select[name$$="macfilter"]').triggerHandler("change");
            $$('input[name$$="tc_enabled"]').click(function(){
                $$('input[name$$="limit"]').attr("disabled",$$(this).val()==0?true:false);
                $$('input[name$$="upperuser"]').attr("disabled",$$(this).val()==0?true:false);
                $$('input[name$$="downperuser"]').attr("disabled",$$(this).val()==0?true:false);
                
                    $$('select[name$$="tc_down_unit"]').attr("disabled",$$(this).val()==0?true:false);
                    $$('select[name$$="tc_up_unit"]').attr("disabled",$$(this).val()==0?true:false);
                
            });
    
            $$('input[name$$="acct_enabled"]').click(function(){
                $$('input[name$$="acct_server"]').attr("disabled",$$(this).val()==0?true:false);
                $$('input[name$$="acct_port"]').attr("disabled",$$(this).val()==0?true:false);
                $$('input[name$$="acct_secret"]').attr("disabled",$$(this).val()==0?true:false);
                $$('input[name$$="acct_interval"]').attr("disabled",$$(this).val()==0?true:false);
            });
    
            $$('input:checked[name$$="acct_enabled"]').triggerHandler("click");
            $$('input:checked[name$$="tc_enabled"]').triggerHandler("click");
    if(functionlist.SUPPORT_ALL_ENCRYPTION_HAS_RADIUS_ACCOUNTING  == 1){
            $$('input[name$$="nasid_enable_gui"]').click(function(){
                $$('input[name$$="nasid_enable"]').val(this.checked?"1":"0");
                $$('input[name$$="nasid"]').attr("disabled",!this.checked?true:false);
            }).triggerHandler('click');
             $$('input[name$$="nasport_enable_gui"]').click(function(){
                $$('input[name$$="nasport_enable"]').val(this.checked?"1":"0");
                $$('input[name$$="nasport"]').attr("disabled",!this.checked?true:false);
            }).triggerHandler('click');
    }
    if(functionlist.SUPPORT_NAS_IP_ADDR  == 1){
        $$('input[name$$="nasip_enable_gui"]').click(function(){
            $$('input[name$$="nasip_enable"]').val(this.checked?"1":"0");
            $$('input[name$$="nasip"]').attr("disabled",!this.checked?true:false);
        }).triggerHandler('click');
    }
        });
    
        function getEncryptionText(){
            var encr_value = $$('select[name$$="encryption"]').val();
            if(encr_value=="wep"){
                var auth_type = $$('select[name$$="auth_type"]').val();
                return "wep-"+auth_type;
            }
            else if(encr_value == "none"){
                return "none";
            }
            else{
                 return $$(':hidden[name$$="encryption"]').val();
            }
    
        };
    
        
        
        
        function get2GRadioEnable(){
            var radio2G = $$('#wifi0Disabled_tmp').val();
            return radio2G;
        }
    
        function get5GRadioEnable(){
            var radio5G = $$('#wifi1Disabled_tmp').val();
            return radio5G;
        }
    
        function get52GRadioEnable(){
            var radio52G = $$('#wifi2Disabled_tmp').val();
            return radio52G;
        }
    
        function getVlanID(){
            var vlan_id = $$('#vlan_id').val();
            return vlan_id;
        }
    
        function getVlanIDEnable(){
            var isolation = $$('#vlan_isolation_enable').val();
    
            return isolation;
        }
    
        function getDisplayMode(){
            var disMod = $$('#displayMode').val();
            return disMod;
        }
        
        function get_mgmtPassphrase(){
            var mgmtPassphrase = $$('input:enabled[name$$="_mgmt.key"]').val();
            return mgmtPassphrase;
        }
        
        // function submitClose()
        // {
        //     if(is_form_submit=="1"){
                
        //             window.opener.updateChanges();
        //             window.opener.updateOption('<% cfg_get("networkName") %>',"encryption",getEncryptionText());
        //             window.opener.updateOption('<% cfg_get("networkName") %>',"mgmtKey",get_mgmtPassphrase());
                    
    
                    
        //                 window.opener.updateOption('<% cfg_get("networkName") %>',"isolation",getVlanIDEnable());
                        
                        
        //                     window.opener.updateOption('<% cfg_get("networkName") %>',"vlanid_ap",getVlanID());
        //                     window.opener.updateOption('<% cfg_get("networkName") %>',"encryptionCOMBINED",getEncryptionText());
                            
        //                         window.opener.updateOption('<% cfg_get("networkName") %>',"dis2G",get2GRadioEnable());
                            
                            
        //                         window.opener.updateOption('<% cfg_get("networkName") %>',"dis5G",get5GRadioEnable());
                            
                            
                        
                    
    
        //             if($$('input:enabled[name$$=".ssid"]').length>0){
        //                 window.opener.updateOption('<% cfg_get("networkName") %>',"ssid",$$('input:enabled[name$$=".ssid"]').val());
                        
        //             }
                
        //         window.close();
        //     }
        //     window.close();
        // }
        // window.addEventListener("pagehide",submitClose,false)
    
    
    
    
    
    $$(function() {
        
        //whitelist="";
        whitelist_num="0"
    
        $$('#l2_isolatior_row').after(
            '<tr id="l2_whitelist_row1" name="l2_whitelist_row1" class="title-option-no-border"> \
               <td width="30%">&nbsp&nbsp&nbsp$whitelist 1</td>\
               <td width="70%"><input name="l2_whitelist_1" id="l2_whitelist_1" maxlength="17" value=""></td>\
            </tr>\
            <tr id="l2_whitelist_row2" name="l2_whitelist_row2" class="title-option-no-border"> \
               <td width="30%">&nbsp&nbsp&nbsp$whitelist 2</td>\
               <td width="70%"><input name="l2_whitelist_2" id="l2_whitelist_2" maxlength="17" value=""></td>\
            </tr>\
            <tr id="l2_whitelist_row3" name="l2_whitelist_row3" class="title-option"> \
               <td width="30%" style="font-size: 16px;">&nbsp&nbsp&nbsp$whitelist 3</td>\
               <td width="70%"><input name="l2_whitelist_3" id="l2_whitelist_3" maxlength="17" value=""></td>\
            </tr>'
        );
        $$('#l2_isolatior_row').removeClass("title-option").addClass("title-option-no-border");
    });
    
    
    // Yolin: add upperuser and downperuser
    $$(function() {
    
        
        $$('input[name$$=tc_downlimit]').after(
            '<select class="tc_unit_select" id="tc_down_unit" name="tc_down_unit" size="1"> \
                <option id="tc_down_unit_Kbps" value="Kbps"  >Kbps</option> \
                <option id="tc_down_unit_Mbps" value="Mbps"  selected="selected"  >Mbps</option> \
            </select> \
            <input value="1" id="downperuser" name="downperuser" type="checkbox"   /> $per_user \
            <br><div id="tc_downlimit_desc" name="tc_downlimit_desc" class="cbi-value-description"></div>'
            );
    
    
    });
        switch(netId.split('.')[0]){
            case 'wifi0':
                wifiRadio = "wifi24"; break;
            case 'wifi1':
                wifiRadio = "wifi5"; break;
            case 'wifi2':
                wifiRadio = "wifi5_1"; break;
        }
    
    
    
    var idchangeArray ={
    "cbid.wireless.<% cfg_get("networkName") %>.disabled":"wifi24_radio_enable",
    "cbid.wireless.wifi1_ssid_1.disabled":"wifi5_radio_enable",
    "cbid.wireless.wifi2_ssid_1.disabled":"wifi5_1_radio_enable",
    "ssid":"wifi_ssid",
    "vlan_id":"wifi_vlan_id",
    "cbid.wireless.<% cfg_get("networkName") %>.hidden1_enable":"wifi_hidden_enable",
    "cbid.wireless.<% cfg_get("networkName") %>.hidden1_disable":"wifi_hidden_disable",
    "cbid.wireless.<% cfg_get("networkName") %>.isolate1_enable":"wifi_client_isolation_enable",
    "cbid.wireless.<% cfg_get("networkName") %>.isolate1_disable":"wifi_client_isolation_disable",
    "cbid.wireless.<% cfg_get("networkName") %>.isolation1_enable":"wifi_vlan_isolation_enable",
    "cbid.wireless.<% cfg_get("networkName") %>.isolation1_disable":"wifi_vlan_isolation_disable",
    "cbid.wireless.<% cfg_get("networkName") %>.l2_isolatior1_enable":"wifi_l2_isolation_enable",
    "cbid.wireless.<% cfg_get("networkName") %>.l2_isolatior1_disable":"wifi_l2_isolation_disable",
    "cbid.wireless.<% cfg_get("networkName") %>.bandsteer_en1_enable":"wifi_bandsteer_en_enable",
    "cbid.wireless.<% cfg_get("networkName") %>.bandsteer_en1_disable":"wifi_bandsteer_en_disable",
    "cbid.wireless.<% cfg_get("networkName") %>.suite_b1_enable":"wifi_suite_b_enable",
    "cbid.wireless.<% cfg_get("networkName") %>.suite_b1_disable":"wifi_suite_b_disable",
    "cbid.wireless.<% cfg_get("networkName") %>.bandsteerrssi":"wifi_bandsteerrssi",
    "cbid.wireless.<% cfg_get("networkName") %>.bandsteerpersent":"wifi_bandsteerpersent",
    "cbid.wireless.<% cfg_get("networkName") %>.encryption":"wifi_securitymode",
    "cbid.wireless.<% cfg_get("networkName") %>.macfilter":"wifi_macfilter",
    "aclid0":"wifi_aclmac1",
    "aclid1":"wifi_aclmac2",
    "aclid2":"wifi_aclmac3",
    "aclid3":"wifi_aclmac4",
    "aclid4":"wifi_aclmac5",
    "aclid5":"wifi_aclmac6",
    "acl_btn":"wifi_aclmac_add",
    "cbid.wireless.<% cfg_get("networkName") %>.tc_enabled1_enable":"wifi_tc_enable",
    "cbid.wireless.<% cfg_get("networkName") %>.tc_enabled1_disable":"wifi_tc_disable",
    "cbid.wireless.<% cfg_get("networkName") %>.tc_downlimit":"wifi_tc_downlimit",
    "downperuser":"wifi_tc_downlimit_peruser",
    "cbid.wireless.<% cfg_get("networkName") %>.tc_uplimit":"wifi_tc_uplimit",
    "upperuser":"wifi_tc_uplimit_peruser",
    "encryption_submit":"button_save",
    "cbid.wireless.<% cfg_get("networkName") %>.auth_type":"wifi_auth_type",
    "cbid.wireless.<% cfg_get("networkName") %>.input_type":"wifi_input_type",
    "cbid.wireless.<% cfg_get("networkName") %>.key_length":"wifi_key_length",
    "cbid.wireless.<% cfg_get("networkName") %>.key_id":"wifi_key_id",
    "cbid.wireless.<% cfg_get("networkName") %>.key1":"wifi_key1",
    "cbid.wireless.<% cfg_get("networkName") %>.key2":"wifi_key2",
    "cbid.wireless.<% cfg_get("networkName") %>.key3":"wifi_key3",
    "cbid.wireless.<% cfg_get("networkName") %>.key4":"wifi_key4",
    "cbid.wireless.<% cfg_get("networkName") %>.cipher":"wifi_encrypt",
    "cbid.wireless.<% cfg_get("networkName") %>.key":"wifi_key",
    "cbid.wireless.<% cfg_get("networkName") %>.wpa_group_rekey":"wifi_wpa_group_rekey",
    "cbid.wireless.<% cfg_get("networkName") %>.psk2_password":"wifi_psk2_password",
    "cbid.wireless.<% cfg_get("networkName") %>.sae_password":"wifi_sae_password",
    "cbid.wireless.wifi0.fastroamingEnable1_enable":"wifi_fastroaming_enable",
    "cbid.wireless.wifi0.fastroamingEnable1_disable":"wifi_fastroaming_disable",
    "cbid.wireless.<% cfg_get("networkName") %>.auth_server":"wifi_auth_server",
    "cbid.wireless.<% cfg_get("networkName") %>.auth_port":"wifi_auth_port",
    "cbid.wireless.<% cfg_get("networkName") %>.auth_secret":"wifi_auth_secret",
    "cbid.wireless.<% cfg_get("networkName") %>.acct_enabled1_enable":"wifi_acct_enabled",
    "cbid.wireless.<% cfg_get("networkName") %>.acct_enabled1_disable":"wifi_acct_disabled",
    "cbid.wireless.<% cfg_get("networkName") %>.acct_server":"wifi_acct_server",
    "cbid.wireless.<% cfg_get("networkName") %>.acct_port":"wifi_acct_port",
    "cbid.wireless.<% cfg_get("networkName") %>.acct_secret":"wifi_acct_secret",
    "cbid.wireless.<% cfg_get("networkName") %>.acct_interval":"wifi_acct_interval",
    "cbid.wireless.<% cfg_get("networkName") %>.preferbssid_enable":"wifi_preferbssid_enable",
    "cbid.wireless.<% cfg_get("networkName") %>.bssid1":"wifi_preferbssid_mac1",
    "cbid.wireless.<% cfg_get("networkName") %>.bssid2":"wifi_preferbssid_mac2",
    "cbid.wireless.<% cfg_get("networkName") %>.bssid3":"wifi_preferbssid_mac3",
    "cbid.wireless.<% cfg_get("networkName") %>.bssid4":"wifi_preferbssid_mac4",
    "cbid.wireless.<% cfg_get("networkName") %>.bssid5":"wifi_preferbssid_mac5",
    "cbid.wireless.<% cfg_get("networkName") %>.bssid6":"wifi_preferbssid_mac6",
    "cbid.wireless.<% cfg_get("networkName") %>.ssid":"wifi_ssid",
    "cbid.wireless.<% cfg_get("networkName") %>.eap_type":"wifi_eap_type",
    "cbid.wireless.<% cfg_get("networkName") %>.auth":"wifi_eap_auth",
    "cbid.wireless.<% cfg_get("networkName") %>.identity":"wifi_identity",
    "cbid.wireless.<% cfg_get("networkName") %>.password":"wifi_password",
    "nasid_enable_gui":"wifi_NASID_enable",
    "nasport_enable_gui":"wifi_NASPORT_enable",
    "nasip_enable_gui":"wifi_NASIP_enable",
    "cbid.wireless.<% cfg_get("networkName") %>.nasid":"wifi_NASID",
    "cbid.wireless.<% cfg_get("networkName") %>.nasport":"wifi_NASPORT",
    "cbid.wireless.<% cfg_get("networkName") %>.nasip":"wifi_NASIP"
    };
    
    var idchangeArray_for = {
        "cbid.wireless.<% cfg_get("networkName") %>.macfilter":"title_wifi_macfilter",
        "cbid.wireless.<% cfg_get("networkName") %>.bssid":"title_wifi_preferbssid",
        "cbid.wireless.<% cfg_get("networkName") %>.ssid":"title_wifi_ssid",
        "cbid.wireless.<% cfg_get("networkName") %>.encryption":"title_wifi_securitymode",
        "cbid.wireless.<% cfg_get("networkName") %>.cipher":"title_wifi_encrypt",
        "cbid.wireless.<% cfg_get("networkName") %>.key":"title_wifi_key",
        "cbid.wireless.<% cfg_get("networkName") %>.eap_type":"title_wifi_eap_type",
        "cbid.wireless.<% cfg_get("networkName") %>.auth":"title_wifi_eap_auth",
        "cbid.wireless.<% cfg_get("networkName") %>.identity":"title_wifi_identity",
        "cbid.wireless.<% cfg_get("networkName") %>.password":"title_wifi_password",
        "cbid.wireless.<% cfg_get("networkName") %>.auth_type":"title_wifi_auth_type",
        "cbid.wireless.<% cfg_get("networkName") %>.input_type":"title_wifi_input_type",
        "cbid.wireless.<% cfg_get("networkName") %>.key_length":"title_wifi_key_length",
        "cbid.wireless.<% cfg_get("networkName") %>.key_id":"title_wifi_key_id",
        "cbid.wireless.<% cfg_get("networkName") %>.key1":"title_wifi_key1",
        "cbid.wireless.<% cfg_get("networkName") %>.key2":"title_wifi_key2",
        "cbid.wireless.<% cfg_get("networkName") %>.key3":"title_wifi_key3",
        "cbid.wireless.<% cfg_get("networkName") %>.key4":"title_wifi_key4",
        "cbid.wireless.<% cfg_get("networkName") %>.tc_enabled":"title_wifi_tc",
        "cbid.wireless.<% cfg_get("networkName") %>.tc_downlimit":"title_wifi_tc_downlimit",
        "cbid.wireless.<% cfg_get("networkName") %>.tc_uplimit":"title_wifi_tc_uplimit",
        "cbid.wireless.<% cfg_get("networkName") %>.wpa_group_rekey":"title_wifi_wpa_group_rekey",
        "cbid.wireless.<% cfg_get("networkName") %>.psk2_password":"title_wifi_psk2_password",
        "cbid.wireless.<% cfg_get("networkName") %>.sae_password":"title_wifi_sae_password",
        "cbid.wireless.<% cfg_get("networkName") %>.auth_server":"title_wifi_auth_server",
        "cbid.wireless.<% cfg_get("networkName") %>.auth_secret":"title_wifi_auth_secret",
        "cbid.wireless.<% cfg_get("networkName") %>.acct_enabled":"title_wifi_acct",
        "cbid.wireless.<% cfg_get("networkName") %>.acct_port":"title_wifi_acct_port",
        "cbid.wireless.<% cfg_get("networkName") %>.auth_port":"title_wifi_auth_port",
        "cbid.wireless.<% cfg_get("networkName") %>.acct_server":"title_wifi_acct_server",
        "cbid.wireless.<% cfg_get("networkName") %>.acct_secret":"title_wifi_acct_secret",
        "cbid.wireless.<% cfg_get("networkName") %>.acct_interval":"title_wifi_acct_interval",
        "cbid.wireless.wifi0.fastroamingEnable":"title_wifi_fastroaming",
        "cbid.wireless.wifi1.fastroamingEnable":"title_wifi_fastroaming"
    }
    
    $$(function() {
    
        
        $$('input[name$$=tc_uplimit]').after(
            '<select class="tc_unit_select" id="tc_up_unit" name="tc_up_unit" size="1"> \
                <option id="tc_up_unit_Kbps" value="Kbps"  >Kbps</option> \
                <option id="tc_up_unit_Mbps" value="Mbps"  selected="selected"  >Mbps</option> \
            </select> \
            <input value="1" id="upperuser" name="upperuser" type="checkbox"  /> $per_user \
            <br><div id="tc_uplimit_desc" name="tc_uplimit_desc" class="cbi-value-description"></div>'
            );
    
    
    
    
    
    });
    
    $$('input[name$$="downperuser"]').ready(function(){
        $$('input[name$$="downperuser"]').attr("disabled", 0==0?true:false);
    });
    
    $$('input[name$$="tc_down_unit"]').ready(function(){
        $$('select[name$$="tc_down_unit"]').attr("disabled", 0==0?true:false);
        $$('select[name$$="tc_down_unit"]').change(function(){
            if ( $$(this).val() == "Kbps" )
            {
                desc = getById('tc_downlimit_desc');
                if(desc)
                {
                    desc.innerHTML = "Kbps (1-999999)";
                }
            }
            else
            {
                desc = getById('tc_downlimit_desc');
                if(desc)
                {
                    desc.innerHTML = "Mbps (1-999)";
                }
            }
            $$('input[name$$=tc_downlimit]').attr("maxlength",$$(this).val() == "Kbps"? 6:3);
        });
        $$('select[name$$="tc_down_unit"]').triggerHandler("change");
    });
    
    $$('input[name$$="upperuser"]').ready(function(){
        $$('input[name$$="upperuser"]').attr("disabled", 0==0?true:false);
    });
    
    $$('input[name$$="tc_up_unit"]').ready(function(){
        $$('select[name$$="tc_up_unit"]').attr("disabled", 0==0?true:false);
        $$('select[name$$="tc_up_unit"]').change(function(){
            if ( $$(this).val() == "Kbps" )
            {
                desc = getById('tc_uplimit_desc');
                if(desc)
                {
                    desc.innerHTML = "Kbps (1-999999)";
                }
            }
            else
            {
                desc = getById('tc_uplimit_desc');
                if(desc)
                {
                    desc.innerHTML = "Mbps (1-999)";
                }
            }
            $$('input[name$$=tc_uplimit]').attr("maxlength",$$(this).val() == "Kbps"? 6:3);
        });
        $$('select[name$$="tc_up_unit"]').triggerHandler("change");
    });
    
     // $$(function() {console.log(functionlist);console.log(vendorlist)});
    
    //info icon
    $$('input[name$$="isolate"]').ready(function(){
        $$('tr[id$$="isolate_row"]').children(":first").append($$('#Client_Isolation_info'));
        //$$('tr[id$$="isolate_row"]').children(":first").append('<img class="popper" data-popbox="Client_Isolation_info" src="image/icon_info_blue.png">');
    });
    
    $$('input[name$$="isolation"]').ready(function(){
        $$('tr[id$$="isolation_row"]').children(":first").append($$('#VLAN_Isolation_info'));
        //$$('tr[id$$="isolation_row"]').children(":first").append('<img class="popper" data-popbox="VLAN_Isolation_info" src="image/icon_info_blue.png">');
    });

    $$('input[name$$="l2_isolatior"]').ready(function(){
        $$('tr[id$$="l2_isolatior_row"]').children(":first").append($$('#L2_Isolation_info'));
        //$$('tr[id$$="l2_isolatior_row"]').children(":first").append('<img class="popper" data-popbox="L2_Isolation_info" src="image/icon_info_blue.png">');
    });

    function checkAllDisable(){
        var allDisabled = true;
        
        $$('input:visible[name$$="disabled"][type="checkbox"]').each(function(){                     
            if(this.checked){ allDisabled = false; }                          
        });
        
        return allDisabled;  //if true then grey-out all option
    }
    
    //for bandsteering
    function checkAllEnable(){
        var allEnabled = true;
    
        if( !$$('[name^="cbid.wireless.wifi0"][name$$="disabled"]').is(":checked") ){
            allEnabled = false;
        }
    
        if( !$$('[name^="cbid.wireless.wifi1"][name$$="disabled"]').is(":checked")
    
        ){
            allEnabled = false;
        }
    
        return allEnabled;
    }
    
    function greyEncrOption(){
        if( $$('select[name$$=".cipher"]').find('option').length=="1" ){
            $$('select[name$$=".cipher"]').attr("disabled",$$('select[name$$=".cipher"]').val()=="ccmp"?true:false);
        }
    }
    
    function backtoSiteSurvey()
    {
        var device="wifi0"
        var tmpOpmode="sta_ap"
        var netid="wifix.network18"
        var url ='/cgi-bin/luci/;stok=a99d1f84a085f20797c4f1e75a2cf711/admin/network/wireless_join?title=Sitesurvey&device='+device+'&tmpOpmode='+tmpOpmode+'&netid='+netid;
    
        var win = window.open(url, '_self');
        win.focus();
    }

    function changeInputType(field, image)
    {
        // var pw_value = document.getElementById(field).value;

        if (document.getElementById(field).type == 'password') {
            document.getElementById(field).type = 'text';
            document.getElementById(image).src = "image/eye.svg";
        } else {
            document.getElementById(field).type = 'password';
            document.getElementById(image).src = "image/eye-slash.svg";
        }
        // document.getElementById(field).value = pw_value;
    }
    
    $$(function(){
        var option = "<% cfg_get("networkName") %>";

        $$('form').trigger("change");
    
        $$('#mytable').show();
        $$('#tr_bandsteer_area').insertAfter($$("#bandsteer_en_row")); //append bandsteer select list
        $$('#tr_setSSID').insertAfter($$("#disabled_row")); //append SSID text field 
        
        
        if (option == "wifi0_mgmt"){
            $$('#tbl_wireless_setting').css("display","none");
            $$('#tbl_bandsteering').css("display","none");
        }
        
        var bandsteer = '0';
        if(bandsteer == "0"){bandsteer = 2;} //default bandsteer 
        $$("select[name='select.bandsteer']").val(bandsteer); //init bandsteer
    
        //append VLAN ID text field    
        if($$('label[for$$="isolation"]').length > 0){
           $$("div[id$$=isolation][class='cbi-value']").after('&nbsp&nbspID: <input id="vlan_id" type="text" style="width:10%" name="cbid.wireless.<% cfg_get("networkName") %>.vlan_id" value="1">(1~4094)');
        
        }
       
        if($$('input[name$$="disabled"]').length > 0){ //append 5G 5G_2 checkbox
          
            
                 //2G, 5G
                
            $$('input[name$$="disabled"][class$$="checkbox"]').after('<label id="wifi0_label">2.4G</label>&nbsp&nbsp&nbsp<input type="checkbox" name="cbid.wireless.<% cfg_get("networkName5G") %>.disabled" id="cbid.wireless.<% cfg_get("networkName5G") %>.disabled" value="0"  ><label id="wifi1_label">5G</label>');
            
            

            var checkbox2G = (window.opener.$$('input[name="wireless.<% cfg_get("networkName") %>.disabled"]').is(':checked')) ? "0" : "1";
            var checkbox5G = (window.opener.$$('input[name="wireless.<% cfg_get("networkName5G") %>.disabled"]').is(':checked')) ? "0" : "1";

              //sync radio checkbox
              if($$('input[name^="cbid.wireless.wifi0"][name$$="disabled"]').length > 0){
                       $$('input[name^="cbid.wireless.wifi0"][name$$="disabled"]').prop("checked",checkbox2G=="0"?true:false);
                    //    $$('input[name="cbid.wireless.<% cfg_get("networkName") %>.disabled"]').val(checkbox2G=="0"?"1":"0");
              }
              
              if($$('input[name^="cbid.wireless.wifi1"][name$$="disabled"]').length > 0){
                      $$('input[name^="cbid.wireless.wifi1"][name$$="disabled"]').prop("checked",checkbox5G=="0"?true:false);
                    //   $$('input[name="cbid.wireless.<% cfg_get("networkName5G") %>.disabled"]').val(checkbox5G=="0"?"1":"0");
              }
              
              if($$('input[name^="cbid.wireless.wifi2"][name$$="disabled"]').length > 0){
                      $$('input[name^="cbid.wireless.wifi2"][name$$="disabled"]').prop("checked",checkbox52G=="0"?true:false);
              }
          
    
          
      } // checkbox
        
        
        
            
            
            
        
    
      
    
        //deal with 2.4g, 5g, 5g-2 enable checkbox
        //only show when opmode is AP or WDS_AP
    
    
    
    
       
       
        //WDS_AP mode only support 4 SSID
        if(netId.slice(-1) > 4){
            //console.log("NUM: "+netId.slice(-1));
            
            
            
        }  
    
       $$('input[name$$="disabled"][type="checkbox"]').change(function(){                                        
            var allDisabled = checkAllDisable();                                                
            var allEnabled = checkAllEnable();
            //console.log("allEnabled " +allEnabled); 
             $$('#tbl_security').find("input,select").attr("disabled", allDisabled);
            greyEncrOption();
             $$('#tr_setSSID').find("input,select").attr("disabled", allDisabled);            
             $$('#hidden_row').find("input,select").attr("disabled", allDisabled);            
            $$('#isolate_row').find("input,select").attr("disabled", allDisabled);
            $$('#bandsteer_en_row').find("input,select").attr("disabled", !allEnabled); 
        
            $$('#l2_isolatior_row').find("input,select").attr("disabled", allDisabled);
            $$('input[name$$="l2_isolatior"]').trigger("change");
        
        
            $$("input[name$$='isolation']").attr("disabled", allDisabled);
        
        
            $$( '#tbl_radius_settings, #tbl_radius_acctounting, #tbl_fastroaming, #tbl_macfilter, #tbl_tc').find("input,select").attr("disabled", allDisabled);
        
             if(allDisabled){
                 $$("tr[name='tr_loadbalance']").hide();
             }else{
                 $$("tr[name='tr_loadbalance']").insertAfter($$("#tr_bandsteer_area"));
                 $$("tr[name='tr_loadbalance']").show();
            $$('input[name$$="nasid_enable_gui"]').triggerHandler('click');
            $$('input[name$$="nasport_enable_gui"]').triggerHandler('click');
            $$('input[name$$="nasip_enable_gui"]').triggerHandler('click');
            $$('input[name$$="acct_enabled"]').triggerHandler('change');
            $$('select[name$$="macfilter"]').triggerHandler('change');
            $$('input:checked[name$$="tc_enabled"]').triggerHandler('click');
             }
             $$('input[name$$="bandsteer_en"]').trigger("change");
         //fix grey-out field
         $$('input[name$$="isolation"]').trigger("change");
        }).trigger("change");
    
       
       $$('select[name$$="encryption"]').change(function(){
        GroupKeyDescription();
        
            SuiteB_setting();
        
           if( $$('select[name$$=".cipher"]').find('option').length=="1" ){
               $$('select[name$$=".cipher"]').attr("disabled",$$('select[name$$=".cipher"]').val()=="ccmp"?true:false);
           }
       });
    
    //Bandsteering
    $$('input[name$$="bandsteer_en"]').change(function(){  
        var allEnabled = checkAllEnable();
        if(allEnabled && $$('input[name$$="bandsteer_en"][value=1]').is(":checked") ){
            $$("tr[name='tr_bandsteer']").find("input,select").attr("disabled", false);
            $$("tr[name='tr_loadbalance']").show();
        }else{
            $$("tr[name='tr_bandsteer']").find("input,select").attr("disabled", true);
            $$("tr[name='tr_loadbalance']").hide();
        }
     }).trigger("change");
       
       
       
       
       //VLAN isolation 
        
       $$('input[name$$="isolation"]').change(function(){         
         var allDisabled = checkAllDisable();
         if(allDisabled){
             $$('input[name$$="vlan_id"]').attr("disabled", true);
            $$('#vlan_isolation_enable').val("0");
         }else if( $$(this).val()=="1" || $$('input[name$$="isolation"][value=1]').is(":checked") ){                                                    
            $$('input[name$$="vlan_id"]').attr("disabled", false);
            $$('#vlan_isolation_enable').val("1");
         }else{
        $$('input[name$$="vlan_id"]').attr("disabled", true);
            $$('#vlan_isolation_enable').val("0");
         }                                                                          
        }).trigger("change");
       
        $$('input[name$$="l2_isolatior"]').change(function(){
         if($$('input[name$$="l2_isolatior"][value="1"]').is(":checked")){
             $$('input[name$$="isolate"][value="1"]').prop("checked", true);

             $$('input[name$$="isolate"]').attr("disabled", true);
            
                $$('input[name^="l2_whitelist_"]').attr("disabled", false);
                $$('tr[name^="l2_whitelist_row"]').removeAttr("style");
                $$('#l2_isolatior_row').removeClass("title-option").addClass("title-option-no-border");
            
         }else{
             var allDisabled=checkAllDisable();
             if(!allDisabled)
             {
                $$('input[name$$="isolate"]').attr("disabled", false);
                if (!isolateManual) {
                    if (isolateOld) {
                        $$('input[name$$="isolate"][value="1"]').prop("checked", true);
                    } else {
                        $$('input[name$$="isolate"][value="0"]').prop("checked", true);
                    }
                }
             }
            
                $$('input[name^="l2_whitelist_"]').attr("disabled", true);
                $$('tr[name^="l2_whitelist_row"]').css("display","none");
                $$('#l2_isolatior_row').removeClass("title-option-no-border").addClass("title-option");
            
         }
        })
    
       
       // fix style of radio button 
       $$('input[class="cbi-input-radio"]').siblings().removeAttr("style");
    
       greyEncrOption();
    
       
        //---------band steering--------------
        $$("select[name='select.bandsteer']").change(function(){
            console.log("BANDSTEER_SELECT_LIST_VALUE "+$$(this).val());
            switch($$(this).val())
            {
                case "2":
                    $$("span[name$$='bandsteerrssi_enable_span']").show().find('*').attr("disabled",false);
                    $$("span[name$$='bandsteerpersent_enable_span']").hide().find('*').attr("disabled",true);
                    break;
                case "3":
                    $$("span[name='bandsteerrssi_enable_span'],span[name='bandsteerpersent_enable_span']").show().find('*').attr("disabled",false);
                    break;
                default:
                    $$("span[name='bandsteerrssi_enable_span'],span[name='bandsteerpersent_enable_span']").hide().find('*').attr("disabled",true);
                    break;
            }
        }).triggerHandler("change");
    
    
        
        //---------band steering Force 5g message Check rule--------------
        $$("select[name='select.bandsteer']").change(function(){
           ($$(this).val()=='1')?$$("#force_5g_msg").show():$$("#force_5g_msg").hide();
        }).triggerHandler("change");
        
    
    
    $$('input[name$$="disabled"][type="checkbox"]').trigger("change");
    
    
        $$('input[name$$="ssid"]').each(function(){
            
            var ssid = repSpec("WAX214_SSID1",1);
            $$(this).val(ssid);
        });
    })//ready end
    
    $$(function(){
        GroupKeyDescription();
        EAP_Setting();
        $$('select[name$$="encryption"]').change(function(){
            $$('select[name$$="eap_type"]').change(function(){
                EAP_Setting();
            });
        });
        $$('select[name$$="eap_type"]').change(function(){
                EAP_Setting();
        });
        
            Security_Mode_Setting();
            SuiteB_setting();
        
    })
    function Security_Mode_Setting(){
        if(""==1 && ""=="wpa3-mixed+ccmp"){
            $$("select[name$$='encryption']").val("wpa3-mixed");
        }
        else if(""==2){
            if(""==0){
                $$("select[name$$='encryption']").val("wpa3");
            }
            else if(""==1){
                $$("select[name$$='encryption']").val("owe");
            }
        }
        if(""==1){
            if("psk2+ccmp"=="ccmp"){
                $$("select[name$$='encryption']").val("sae");
            }
            else if("psk2+ccmp"=="psk2+ccmp"){
                $$("select[name$$='encryption']").val("sae-mixed");
            }
        }
        $$('select[name$$="encryption"] option[value="wpa3-mixed"]').hide();
        $$('select[name$$="encryption"]').trigger("change");
    }
    function EAP_Setting(){
        if($$('select[name$$="eap_type"]').val() == "peap"){
            $$('select[name$$="auth"] option[value="MSCHAP"]').hide();
            $$('select[name$$="auth"]')[0].value = "MSCHAPV2";
        }
        else{
            $$('select[name$$="auth"] option[value="MSCHAP"]').show();
        }
    }
    function GroupKeyDescription(){
        if(('input[name$$="wpa_group_rekey"][type="text"]:visible').length > 0){
            if($$('#groupKeyDescription').length==0){    //append description for Group Key Update Interval
                $$('input[name$$="wpa_group_rekey"][type="text"]').after('<label id="groupKeyDescription"> (30~3600; 0:$disable) </label>');
            }
        }
    }
    function SuiteB_setting(){
        if ( $$("select[name$$='encryption']").val() == 'wpa3' ){
            //$$("tr[id$$='suite_b_row']").show();
        }
        else{
            $$('input[type="radio"][name$$="suite_b"][value=""]').prop("checked",true);
            $$("tr[id$$='suite_b_row']").hide();
        }
    }
    
    $$(function(){
        var option = "<% cfg_get("networkName") %>";
        if (option == "wifi0_mgmt"){
            $$('table[id$="tbl_radius_settings"]').css("display","none");
            $$('table[id$="tbl_radius_acctounting"]').css("display","none");
            $$('table[id$="tbl_macfilter"]').css("display","none");
            $$('table[id$="tbl_tc"]').css("display","none");
            $$('table[id$="tbl_fastroaming"]').css("display","none");
        }        
    })
    
    
    $$(function(){
        
            $$("#encryption_submit").attr("disabled", false);
            $$('#encryption_submit').css("color","white");
    
    })
    
    function showEncryption(e)
    {
        var encryption = {"none":"none", "psk2+ccmp":"psk2", "sae+ccmp":"sae", "sae-mixed+ccmp":"sae-mixed", "wpa2":"wpa2", "wpa3-mixed+ccmp":"wpa3-mixed", "wpa3":"wpa3"};
        return (encryption.hasOwnProperty(e))?encryption[e]:e;
    }
    $$(function(){
        var ssid = null;
        var hidden = false;
        var isolate = false;
        var isolation = false;
        var l2_isolatior = false;
        var bandsteer_en = false;
        var fastroamingEnable = false;
        var sectype = null;

        if (netId == "wifi0.network1")
        {
            if ("<% cfg_get("wlg_hidden") %>" == "1")
                hidden = true;
            if ("<% cfg_get("wlg_client_isolation") %>" == "1")
                isolate = true;
            if ("<% cfg_get("wlg_client_isolation_old") %>" == "1")
                isolateOld = true;
            if ("<% cfg_get("wlg_vlan_isolation") %>" == "1")
                isolation = true;
            if ("<% cfg_get("wlg_l2_isolation") %>" == "1")
                l2_isolatior = true;
            if ("<% cfg_get("wlg_bandsteer_en") %>" == "1")
                bandsteer_en = true;
            if ("<% cfg_get("wlg_fastroamingEnable") %>" == "1")
                fastroamingEnable = true;

            $$('select[name$$="bandsteer"]').val("<% cfg_get("wlg_bandsteer") %>");
            $$('input[name="cbid.wireless.wifi0_ssid_1.bandsteerrssi"]').val(parseInt("<% cfg_get("wlg_bandsteerrssi") %>",10)-95);
			$$('input[name="cbid.wireless.wifi0_ssid_1.bandsteerpersent"]').val("<% cfg_get("wlg_bandsteer_persent") %>");
            ssid = window.opener.$$('input[name="cbid.wireless.wifix_ssid_1.ssid"]').val();
            $$('input[name="cbid.wireless.wifi0_ssid_1.ssid"]').val(ssid);
            $$('input[name="cbid.wireless.wifi0_ssid_1.key"]').val(htmlDecode(repSpecHTML("<% cfg_get("wl_psk", "wlg1") %>", 1)));
            sectype = showEncryption("<% cfg_get("wl_sectype") %>");
            $$('select[name="cbid.wireless.wifi0_ssid_1.encryption"]').val(sectype);
			$$('select[name="cbid.wireless.wifi0_ssid_1.encryption"]').trigger( "change" );
			$$('input[name="cbid.wireless.wifi0_ssid_1.auth_server"]').val(htmlDecode(repSpecHTML("<% cfg_get("wl_get_value_l2", "wlg1", "auth_server") %>", 1)));
			$$('input[name="cbid.wireless.wifi0_ssid_1.auth_secret"]').val(htmlDecode(repSpecHTML("<% cfg_get("wl_get_value_l2", "wlg1", "auth_secret") %>", 1)));
			$$('input[name="cbid.wireless.wifi0_ssid_1.auth_port"]').val(htmlDecode(repSpecHTML("<% cfg_get("wl_get_value_l2", "wlg1", "auth_port") %>", 1)));
			$$('input[name="cbid.wireless.wifi0_ssid_1.wpa_group_rekey"]').val(htmlDecode(repSpecHTML("<% cfg_get("wl_get_value_l2", "wlg1", "rekey") %>", 1)));
			$$('input[name="l2_whitelist_1"]').val("<% cfg_get("wl_l2_whitelist", "wlg1", "mac1") %>");
			$$('input[name="l2_whitelist_2"]').val("<% cfg_get("wl_l2_whitelist", "wlg1", "mac2") %>");
			$$('input[name="l2_whitelist_3"]').val("<% cfg_get("wl_l2_whitelist", "wlg1", "mac3") %>");
			$$('input:text[name$$="vlan_id"]').val("<% cfg_get("wlg_vlanId", "wlg1") %>");
			var guestNetworkEnable = (window.opener.$$('input[type="checkbox"][name$$="cbid.wireless.wifix_ssid_1.guest_network"]').is(':checked')) ? "1" : "0";
        }
        else if (netId == "wifi0.network2")
        {
            if ("<% cfg_get("wlg1_hidden") %>" == "1")
                hidden = true;
            if ("<% cfg_get("wlg1_client_isolation") %>" == "1")
                isolate = true;
            if ("<% cfg_get("wlg1_client_isolation_old") %>" == "1")
                isolateOld = true;
            if ("<% cfg_get("wlg1_vlan_isolation") %>" == "1")
                isolation = true;
            if ("<% cfg_get("wlg1_l2_isolation") %>" == "1")
                l2_isolatior = true;
            if ("<% cfg_get("wlg_bandsteer_en") %>" == "1")
                bandsteer_en = true;
            if ("<% cfg_get("wlg1_fastroamingEnable") %>" == "1")
                fastroamingEnable = true;
            $$('select[name$$="bandsteer"]').val("<% cfg_get("wlg_bandsteer") %>");
            $$('input[name="cbid.wireless.wifi0_ssid_2.bandsteerrssi"]').val(parseInt("<% cfg_get("wlg_bandsteerrssi") %>",10)-95);
			$$('input[name="cbid.wireless.wifi0_ssid_2.bandsteerpersent"]').val("<% cfg_get("wlg_bandsteer_persent") %>");
            ssid = window.opener.$$('input[name="cbid.wireless.wifix_ssid_2.ssid"]').val();
            $$('input[name="cbid.wireless.wifi0_ssid_2.ssid"]').val(ssid);
            $$('input[name="cbid.wireless.wifi0_ssid_2.key"]').val(htmlDecode(repSpecHTML("<% cfg_get("wl_psk", "wlg2") %>", 1)));
            sectype = showEncryption("<% cfg_get("wlg1_sectype") %>");
            $$('select[name="cbid.wireless.wifi0_ssid_2.encryption"]').val(sectype);
			$$('select[name="cbid.wireless.wifi0_ssid_2.encryption"]').trigger( "change" );
			$$('input[name="cbid.wireless.wifi0_ssid_2.auth_server"]').val(htmlDecode(repSpecHTML("<% cfg_get("wl_get_value_l2", "wlg2", "auth_server") %>", 1)));
			$$('input[name="cbid.wireless.wifi0_ssid_2.auth_secret"]').val(htmlDecode(repSpecHTML("<% cfg_get("wl_get_value_l2", "wlg2", "auth_secret") %>", 1)));
			$$('input[name="cbid.wireless.wifi0_ssid_2.auth_port"]').val(htmlDecode(repSpecHTML("<% cfg_get("wl_get_value_l2", "wlg2", "auth_port") %>", 1)));
			$$('input[name="cbid.wireless.wifi0_ssid_2.wpa_group_rekey"]').val(htmlDecode(repSpecHTML("<% cfg_get("wl_get_value_l2", "wlg2", "rekey") %>", 1)));
			$$('input[name="l2_whitelist_1"]').val("<% cfg_get("wl_l2_whitelist", "wlg2", "mac1") %>");
			$$('input[name="l2_whitelist_2"]').val("<% cfg_get("wl_l2_whitelist", "wlg2", "mac2") %>");
			$$('input[name="l2_whitelist_3"]').val("<% cfg_get("wl_l2_whitelist", "wlg2", "mac3") %>");
			$$('input:text[name$$="vlan_id"]').val("<% cfg_get("wlg_vlanId", "wlg2") %>");
			var guestNetworkEnable = (window.opener.$$('input[type="checkbox"][name$$="cbid.wireless.wifix_ssid_2.guest_network"]').is(':checked')) ? "1" : "0";
        }
        else if (netId == "wifi0.network3")
        {
            if ("<% cfg_get("wlg2_hidden") %>" == "1")
                hidden = true;
            if ("<% cfg_get("wlg2_client_isolation") %>" == "1")
                isolate = true;
            if ("<% cfg_get("wlg2_client_isolation_old") %>" == "1")
                isolateOld = true;
            if ("<% cfg_get("wlg2_vlan_isolation") %>" == "1")
                isolation = true;
            if ("<% cfg_get("wlg2_l2_isolation") %>" == "1")
                l2_isolatior = true;
            if ("<% cfg_get("wlg_bandsteer_en") %>" == "1")
                bandsteer_en = true;
            if ("<% cfg_get("wlg2_fastroamingEnable") %>" == "1")
                fastroamingEnable = true;
            $$('select[name$$="bandsteer"]').val("<% cfg_get("wlg_bandsteer") %>");
            $$('input[name="cbid.wireless.wifi0_ssid_3.bandsteerrssi"]').val(parseInt("<% cfg_get("wlg_bandsteerrssi") %>",10)-95);
			$$('input[name="cbid.wireless.wifi0_ssid_3.bandsteerpersent"]').val("<% cfg_get("wlg_bandsteer_persent") %>");
            ssid = window.opener.$$('input[name="cbid.wireless.wifix_ssid_3.ssid"]').val();
            $$('input[name="cbid.wireless.wifi0_ssid_3.ssid"]').val(ssid);
            $$('input[name="cbid.wireless.wifi0_ssid_3.key"]').val(htmlDecode(repSpecHTML("<% cfg_get("wl_psk", "wlg3") %>", 1)));
            sectype = showEncryption("<% cfg_get("wlg2_sectype") %>");
            $$('select[name="cbid.wireless.wifi0_ssid_3.encryption"]').val(sectype);
			$$('select[name="cbid.wireless.wifi0_ssid_3.encryption"]').trigger( "change" );
			$$('input[name="cbid.wireless.wifi0_ssid_3.auth_server"]').val(htmlDecode(repSpecHTML("<% cfg_get("wl_get_value_l2", "wlg3", "auth_server") %>", 1)));
			$$('input[name="cbid.wireless.wifi0_ssid_3.auth_secret"]').val(htmlDecode(repSpecHTML("<% cfg_get("wl_get_value_l2", "wlg3", "auth_secret") %>", 1)));
			$$('input[name="cbid.wireless.wifi0_ssid_3.auth_port"]').val(htmlDecode(repSpecHTML("<% cfg_get("wl_get_value_l2", "wlg3", "auth_port") %>", 1)));
			$$('input[name="cbid.wireless.wifi0_ssid_3.wpa_group_rekey"]').val(htmlDecode(repSpecHTML("<% cfg_get("wl_get_value_l2", "wlg3", "rekey") %>", 1)));
			$$('input[name="l2_whitelist_1"]').val("<% cfg_get("wl_l2_whitelist", "wlg3", "mac1") %>");
			$$('input[name="l2_whitelist_2"]').val("<% cfg_get("wl_l2_whitelist", "wlg3", "mac2") %>");
			$$('input[name="l2_whitelist_3"]').val("<% cfg_get("wl_l2_whitelist", "wlg3", "mac3") %>");
			$$('input:text[name$$="vlan_id"]').val("<% cfg_get("wlg_vlanId", "wlg3") %>");
			var guestNetworkEnable = (window.opener.$$('input[type="checkbox"][name$$="cbid.wireless.wifix_ssid_3.guest_network"]').is(':checked')) ? "1" : "0";
        }
        else if (netId == "wifi0.network4")
        {
            if ("<% cfg_get("wlg3_hidden") %>" == "1")
                hidden = true;
            if ("<% cfg_get("wlg3_client_isolation") %>" == "1")
                isolate = true;
            if ("<% cfg_get("wlg3_client_isolation_old") %>" == "1")
                isolateOld = true;
            if ("<% cfg_get("wlg3_vlan_isolation") %>" == "1")
                isolation = true;
            if ("<% cfg_get("wlg3_l2_isolation") %>" == "1")
                l2_isolatior = true;
            if ("<% cfg_get("wlg_bandsteer_en") %>" == "1")
                bandsteer_en = true;
            if ("<% cfg_get("wlg3_fastroamingEnable") %>" == "1")
                fastroamingEnable = true;
            $$('select[name$$="bandsteer"]').val("<% cfg_get("wlg_bandsteer") %>");
            $$('input[name="cbid.wireless.wifi0_ssid_4.bandsteerrssi"]').val(parseInt("<% cfg_get("wlg_bandsteerrssi") %>",10)-95);
			$$('input[name="cbid.wireless.wifi0_ssid_4.bandsteerpersent"]').val("<% cfg_get("wlg_bandsteer_persent") %>");
            ssid = window.opener.$$('input[name="cbid.wireless.wifix_ssid_4.ssid"]').val();
            $$('input[name="cbid.wireless.wifi0_ssid_4.ssid"]').val(ssid);
            $$('input[name="cbid.wireless.wifi0_ssid_4.key"]').val(htmlDecode(repSpecHTML("<% cfg_get("wl_psk", "wlg4") %>", 1)));
            sectype = showEncryption("<% cfg_get("wlg3_sectype") %>");
            $$('select[name="cbid.wireless.wifi0_ssid_4.encryption"]').val(sectype);
			$$('select[name="cbid.wireless.wifi0_ssid_4.encryption"]').trigger( "change" );
			$$('input[name="cbid.wireless.wifi0_ssid_4.auth_server"]').val(htmlDecode(repSpecHTML("<% cfg_get("wl_get_value_l2", "wlg4", "auth_server") %>", 1)));
			$$('input[name="cbid.wireless.wifi0_ssid_4.auth_secret"]').val(htmlDecode(repSpecHTML("<% cfg_get("wl_get_value_l2", "wlg4", "auth_secret") %>", 1)));
			$$('input[name="cbid.wireless.wifi0_ssid_4.auth_port"]').val(htmlDecode(repSpecHTML("<% cfg_get("wl_get_value_l2", "wlg4", "auth_port") %>", 1)));
			$$('input[name="cbid.wireless.wifi0_ssid_4.wpa_group_rekey"]').val(htmlDecode(repSpecHTML("<% cfg_get("wl_get_value_l2", "wlg4", "rekey") %>", 1)));
			$$('input[name="l2_whitelist_1"]').val("<% cfg_get("wl_l2_whitelist", "wlg4", "mac1") %>");
			$$('input[name="l2_whitelist_2"]').val("<% cfg_get("wl_l2_whitelist", "wlg4", "mac2") %>");
			$$('input[name="l2_whitelist_3"]').val("<% cfg_get("wl_l2_whitelist", "wlg4", "mac3") %>");
			$$('input:text[name$$="vlan_id"]').val("<% cfg_get("wlg_vlanId", "wlg4") %>");
			var guestNetworkEnable = (window.opener.$$('input[type="checkbox"][name$$="cbid.wireless.wifix_ssid_4.guest_network"]').is(':checked')) ? "1" : "0";
        }
        else if (netId == "wifi0.network20")
        {
             $$('input[name="cbid.wireless.wifi0_mgmt.key"]').attr("disabled", false);
             $$('input[name="cbid.wireless.wifi0_mgmt.key"]').val(htmlDecode(repSpecHTML("<% cfg_get("wl_psk", "wlg_mgmt") %>", 1)));
             // $$("select[name$$='encryption']").val("<% cfg_get("wlg_mgmt_sectypet") %>");
        }
        
        if (hidden == true)
            $$('input[type="radio"][name="cbid.wireless.<% cfg_get("networkName") %>.hidden"]')[0].checked = true;
        else
            $$('input[type="radio"][name="cbid.wireless.<% cfg_get("networkName") %>.hidden"]')[1].checked = true;

        if (isolate == true)
            $$('input[type="radio"][name="cbid.wireless.<% cfg_get("networkName") %>.isolate"]')[0].checked = true;
        else
            $$('input[type="radio"][name="cbid.wireless.<% cfg_get("networkName") %>.isolate"]')[1].checked = true;

        if (isolation == true)
            $$('input[type="radio"][name="cbid.wireless.<% cfg_get("networkName") %>.isolation"]')[0].checked = true;
        else
            $$('input[type="radio"][name="cbid.wireless.<% cfg_get("networkName") %>.isolation"]')[1].checked = true;

        if (l2_isolatior == true)
            $$('input[type="radio"][name="cbid.wireless.<% cfg_get("networkName") %>.l2_isolatior"]')[0].checked = true;
        else
            $$('input[type="radio"][name="cbid.wireless.<% cfg_get("networkName") %>.l2_isolatior"]')[1].checked = true;

        isolateManual = true;
		$$('input[name$$="l2_isolatior"]').trigger("change");
        isolateManual = false;
		
        if (bandsteer_en == true)
            $$('input[type="radio"][name="cbid.wireless.<% cfg_get("networkName") %>.bandsteer_en"]')[0].checked = true;
        else
            $$('input[type="radio"][name="cbid.wireless.<% cfg_get("networkName") %>.bandsteer_en"]')[1].checked = true;

        if (fastroamingEnable == true)
            $$('input[type="radio"][name="cbid.wireless.<% cfg_get("networkName") %>.fastroamingEnable"]')[0].checked = true;
        else
            $$('input[type="radio"][name="cbid.wireless.<% cfg_get("networkName") %>.fastroamingEnable"]')[1].checked = true;

        $$('input[type="radio"][name="cbid.wireless.<% cfg_get("networkName") %>.bandsteer_en"]').trigger( "change" );
		$$('select[name$$="bandsteer"]').trigger( "change" );
        $$('input[type="radio"][name="cbid.wireless.<% cfg_get("networkName") %>.isolation"]').trigger( "change" );

        //if (netId != "wifi0.network20")
        //{
            //$$('select[name="cbid.wireless.<% cfg_get("networkName") %>.encryption"]').trigger( "change" );
        //}
		
        $$('#tbl_bandsteering').css("display","none");
		$$('#suite_b_row').css("display","none");
		$$('#tbl_radius_settings').css("display","none");
		$$('#tbl_radius_acctounting').css("display","none");
		if (netId == "wifi0.network20")
		{
		    $$('#wpa_group_rekey_row').css("display","none");
		}

		if (guestNetworkEnable == "1")
		{
			$$('select[name$$="encryption"] option[value="wpa2"]').hide();
			$$('select[name$$="encryption"] option[value="wpa3"]').hide();
		}
    })
    
    // alert("2");
    </script>
    </head>
    <body>
    <div id="Band_Steering_info" class="popbox">                                                                                                                               
    <p>$band_steering_info</p>
    </div>	
    
    
    <div id="bandsteerrssi_text" class="popbox" style="display:none">
        <p>Enter a value for the minimum received signal strength indicator (RSSI) required for dual-band wireless clients to associate to the 5GHz band. If the client’s RSSI value drops below this threshold, it will only be able to connect to the 2.4GHz band. The recommended value is -60 ~ -80.</p>
    </div>
    
    
    <div id="bandsteerpersent_text" class="popbox" style="display:none">
    <p>$wireless_info37</p>
    </div>
    
    
    <img id="Client_Isolation_info" class="popper" data-popbox="Client_Isolation_info" src="image/icon_info_blue.png">
    <div id="Client_Isolation_info" class="popbox">
        <p>$client_isolation_info</p>
    </div>
    
    <img id="VLAN_Isolation_info" class="popper" data-popbox="VLAN_Isolation_info" src="image/icon_info_blue.png">
    <div id="VLAN_Isolation_info" class="popbox">
        <p>$vlan_isolation_info</p>
    </div>

    <img id="L2_Isolation_info" class="popper" data-popbox="L2_Isolation_info" src="image/icon_info_blue.png">
    <div id="L2_Isolation_info" class="popbox">
        <p>$l2_isolation_info</p>
    </div>

    <div class="ctx-body">
    <table class="ecm-tbl" id="mytable">
    <tbody>
    
                    <tr id="tr_setSSID" class="title-option">
                        <td class="tbl-name" width="30%">SSID</td>
                        <td width="70%">
                            <div class="cbi-value" style="margin-bottom: 0px;">
                            <input type="text" maxlength="32" id="ssid" name="cbid.wireless.<% cfg_get("networkName") %>.ssid" value="WAX214_SSID1">
                            </div>
                        </td>
                    </tr>
                    <tr name="tr_bandsteer" id="tr_bandsteer_area" class="title-option">
                        <td class="tbl-name" width="20%" myid="title_wifi_bandsteer">Band Steering<img class="popper" data-popbox="Band_Steering_info" src="image/icon_info_blue.png"></td>
                        <td class="tbl-value" width="80%">
                            
                        <select id="select.bandsteer" myid="wifi_bandsteer" class="cbi-input-select" name="select.bandsteer" value="0">
            
                            <option value="2">Prefer 5GHz</option>
            
                            <option value="1">Force 5GHz</option>
            
                            <option value="3">Band Balance</option>
                        </select>
                        <span name="bandsteerrssi_enable_span" style="display:none">
            
                            <br>
                            5GHz RSSI&nbsp;
                            
                            <input maxlength="3" style="width:50px;" name="cbid.wireless.<% cfg_get("networkName") %>.bandsteerrssi" type="text" class="cbi-input-text" value="-70"/>dBm
                            <div class="popper" data-popbox="bandsteerrssi_text"><img src="image/icon_info_blue.png"></div>
                        </span>
            
                        <span name="bandsteerpersent_enable_span" style="display:none">
                            <br>
            
                            Percent of clients on 5GHz radio <input maxlength="3" style="width:50px;" name="cbid.wireless.<% cfg_get("networkName") %>.bandsteerpersent" value="75" type="text" class="cbi-input-text">%
                            <div class="popper" data-popbox="bandsteerpersent_text"><img src="image/icon_info_blue.png"></div>
                        </span>
                        
        
        
                            <span id="force_5g_msg" style="display:none"><br>
                            <span class="msg_type_mark">&nbsp;$information</span>
                            $wireless_info38
                            </span>
        
                            <br>
                            <span class="msg_type_mark">&nbsp;$note</span>
        
                            $wireless_info39
        
                        </td>
                    </tr>
        
    
     </tbody>
            </table>
        </div>
    
    
    <div id="Fast_Roaming_info" class="popbox">
        <p>$wireless_info39</p>
    </div>
    <form method="post" name="guestNetworkEncryption" onreset="return cbi_validate_reset(this)" onsubmit="return cbi_validate_form(this, 'Some fields are invalid, cannot save values!')">
      <input type="hidden" id="submitType" name="submitType"/>
      <input type="hidden" name="anticsrf" value='<% generateToken("wifi_encrytion") %>'>
      <input type="hidden" id="displayMode" />
      <input type="hidden" id="wifi0Disabled_tmp" name="wifi0Disabled_tmp" />
      <input type="hidden" id="vlan_isolation_enable" name="vlan_isolation_enable" />
      
        <input type="hidden" id="wifi1Disabled_tmp" name="wifi1Disabled_tmp" />
      
      
    
    <input type="hidden" name="fromEncr" value="<% cfg_get("netId") %>" />
    <input type="hidden" name="is_wifi_join" value="" />
    
        <div id = "cbi_set" style="display:none" >
         
    <div class="cbi-map" id="cbi-wireless">
        
        
        <fieldset class="cbi-section" id="cbi-wireless-<% cfg_get("networkName") %>">
            
            
            
            
            <div class="cbi-section-node" id="cbi-wireless-<% cfg_get("networkName") %>">
                
    
    
        <div class="cbi-value" id="cbi-wireless-<% cfg_get("networkName") %>-mode">
    
    
    <input type="hidden" id="cbid.wireless.<% cfg_get("networkName") %>.mode" value="ap" />
            </div>
    
    
    
    
    <div class="cbi-value" id="cbi-wireless-<% cfg_get("networkName") %>-disabled"><label class="cbi-value-title" for="cbid.wireless.<% cfg_get("networkName") %>.disabled">$band</label>
            <div class="cbi-value-field">
    
        <input type="hidden" value="1" name="cbi.cbe.wireless.<% cfg_get("networkName") %>.disabled" />
        <input class="cbi-input-checkbox" onclick="cbi_d_update(this.id)" onchange="cbi_d_update(this.id)" type="checkbox" id="cbid.wireless.<% cfg_get("networkName") %>.disabled" name="cbid.wireless.<% cfg_get("networkName") %>.disabled" value="0"  />
            </div></div>
    
    
    
    
    <div class="cbi-value" id="cbi-wireless-<% cfg_get("networkName") %>-hidden"><label class="cbi-value-title" for="cbid.wireless.<% cfg_get("networkName") %>.hidden">$hidden_ssid</label>
            <div class="cbi-value-field">
    
    
        <input class="cbi-input-radio" onclick="cbi_d_update(this.id)" onchange="cbi_d_update(this.id)" type="radio" id="cbid.wireless.<% cfg_get("networkName") %>.hidden1" name="cbid.wireless.<% cfg_get("networkName") %>.hidden" value="1" />
        <label for="cbid.wireless.<% cfg_get("networkName") %>.hidden1">$enable</label>
    &#160;
    
        <input class="cbi-input-radio" onclick="cbi_d_update(this.id)" onchange="cbi_d_update(this.id)" type="radio" id="cbid.wireless.<% cfg_get("networkName") %>.hidden1" name="cbid.wireless.<% cfg_get("networkName") %>.hidden" value="0" checked="checked" />
        <label for="cbid.wireless.<% cfg_get("networkName") %>.hidden1">$disable</label>
    &#160;
    
    
            </div></div>
    
    
    
    
    <div class="cbi-value" id="cbi-wireless-<% cfg_get("networkName") %>-isolate"><label class="cbi-value-title" for="cbid.wireless.<% cfg_get("networkName") %>.isolate">$client_isolation</label>
            <div class="cbi-value-field">
    
    
        <input class="cbi-input-radio" onclick="cbi_d_update(this.id)" onchange="cbi_d_update(this.id)" type="radio" id="cbid.wireless.<% cfg_get("networkName") %>.isolate1" name="cbid.wireless.<% cfg_get("networkName") %>.isolate" value="1" />
        <label for="cbid.wireless.<% cfg_get("networkName") %>.isolate1">$enable</label>
    &#160;
    
        <input class="cbi-input-radio" onclick="cbi_d_update(this.id)" onchange="cbi_d_update(this.id)" type="radio" id="cbid.wireless.<% cfg_get("networkName") %>.isolate1" name="cbid.wireless.<% cfg_get("networkName") %>.isolate" value="0" checked="checked" />
        <label for="cbid.wireless.<% cfg_get("networkName") %>.isolate1">$disable</label>
    &#160;
    
    
            </div></div>
    
    
    
    
    <div class="cbi-value" id="cbi-wireless-<% cfg_get("networkName") %>-bandsteer_en"><label class="cbi-value-title" for="cbid.wireless.<% cfg_get("networkName") %>.bandsteer_en">$status</label>
            <div class="cbi-value-field">
    
    
        <input class="cbi-input-radio" onclick="cbi_d_update(this.id)" onchange="cbi_d_update(this.id)" type="radio" id="cbid.wireless.<% cfg_get("networkName") %>.bandsteer_en1" name="cbid.wireless.<% cfg_get("networkName") %>.bandsteer_en" value="1" />
        <label for="cbid.wireless.<% cfg_get("networkName") %>.bandsteer_en1">$enable</label>
    &#160;
    
        <input class="cbi-input-radio" onclick="cbi_d_update(this.id)" onchange="cbi_d_update(this.id)" type="radio" id="cbid.wireless.<% cfg_get("networkName") %>.bandsteer_en1" name="cbid.wireless.<% cfg_get("networkName") %>.bandsteer_en" value="0" checked="checked" />
        <label for="cbid.wireless.<% cfg_get("networkName") %>.bandsteer_en1">$disable</label>
    &#160;
    
    
            </div></div>
    
    
    
    
    <div class="cbi-value" id="cbi-wireless-<% cfg_get("networkName") %>-isolation"><label class="cbi-value-title" for="cbid.wireless.<% cfg_get("networkName") %>.isolation">$vlan_isolation</label>
            <div class="cbi-value-field">
    
    
        <input class="cbi-input-radio" onclick="cbi_d_update(this.id)" onchange="cbi_d_update(this.id)" type="radio" id="cbid.wireless.<% cfg_get("networkName") %>.isolation1" name="cbid.wireless.<% cfg_get("networkName") %>.isolation" value="1" />
        <label for="cbid.wireless.<% cfg_get("networkName") %>.isolation1">$enable</label>
    &#160;
    
        <input class="cbi-input-radio" onclick="cbi_d_update(this.id)" onchange="cbi_d_update(this.id)" type="radio" id="cbid.wireless.<% cfg_get("networkName") %>.isolation1" name="cbid.wireless.<% cfg_get("networkName") %>.isolation" value="0" checked="checked" />
        <label for="cbid.wireless.<% cfg_get("networkName") %>.isolation1">$disable</label>
    &#160;
    
    
            </div></div>
    
    
    
    
    <div class="cbi-value" id="cbi-wireless-<% cfg_get("networkName") %>-l2_isolatior"><label class="cbi-value-title" for="cbid.wireless.<% cfg_get("networkName") %>.l2_isolatior">$l2_isolation</label>
            <div class="cbi-value-field">
    
    
        <input class="cbi-input-radio" onclick="cbi_d_update(this.id)" onchange="cbi_d_update(this.id)" type="radio" id="cbid.wireless.<% cfg_get("networkName") %>.l2_isolatior1" name="cbid.wireless.<% cfg_get("networkName") %>.l2_isolatior" value="1" />
        <label for="cbid.wireless.<% cfg_get("networkName") %>.l2_isolatior1">$enable</label>
    &#160;
    
        <input class="cbi-input-radio" onclick="cbi_d_update(this.id)" onchange="cbi_d_update(this.id)" type="radio" id="cbid.wireless.<% cfg_get("networkName") %>.l2_isolatior1" name="cbid.wireless.<% cfg_get("networkName") %>.l2_isolatior" value="0" checked="checked" />
        <label for="cbid.wireless.<% cfg_get("networkName") %>.l2_isolatior1">$disable</label>
    &#160;
    
    
            </div></div>
    
    
    
    
    <div class="cbi-value" id="cbi-wireless-<% cfg_get("networkName") %>-encryption"><label class="cbi-value-title" for="cbid.wireless.<% cfg_get("networkName") %>.encryption">$security_mode</label>
            <div class="cbi-value-field">
    
    
        <select class="cbi-input-select" onchange="cbi_d_update(this.id)" id="cbid.wireless.<% cfg_get("networkName") %>.encryption" name="cbid.wireless.<% cfg_get("networkName") %>.encryption" size="1">
            <option id="cbi-wireless-<% cfg_get("networkName") %>-encryption-none" value="none">Open</option>
            <option id="cbi-wireless-<% cfg_get("networkName") %>-encryption-wep" value="wep">WEP</option>
            <option id="cbi-wireless-<% cfg_get("networkName") %>-encryption-psk" value="psk">WPA-PSK</option>
            <option id="cbi-wireless-<% cfg_get("networkName") %>-encryption-psk2" value="psk2" selected="selected">WPA2-Personal</option>
            <option id="cbi-wireless-<% cfg_get("networkName") %>-encryption-wpa2" value="wpa2">WPA2-Enterprise</option>
            <option id="cbi-wireless-<% cfg_get("networkName") %>-encryption-sae-mixed" value="sae-mixed">WPA2/WPA3-Personal</option>
            <option id="cbi-wireless-<% cfg_get("networkName") %>-encryption-owe" value="owe">OWE</option>
            <option id="cbi-wireless-<% cfg_get("networkName") %>-encryption-sae" value="sae">WPA3-Personal</option>
            <option id="cbi-wireless-<% cfg_get("networkName") %>-encryption-wpa3" value="wpa3">WPA3-Enterprise</option>
            <option id="cbi-wireless-<% cfg_get("networkName") %>-encryption-psk-mixed" value="psk-mixed">WPA-PSK Mixed</option>
            <option id="cbi-wireless-<% cfg_get("networkName") %>-encryption-wpa" value="wpa">WPA-Enterprise</option>
            <option id="cbi-wireless-<% cfg_get("networkName") %>-encryption-wpa3-mixed" value="wpa3-mixed">WPA2/WPA3-Enterprise</option>
            <option id="cbi-wireless-<% cfg_get("networkName") %>-encryption-wpa-mixed" value="wpa-mixed">WPA Mixed-Enterprise</option>
        </select>

    </div></div>
    
    
    <script type="text/javascript" id="cbip-wireless-<% cfg_get("networkName") %>-encryption">
            cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-encryption-wep", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"sta"}, "cbip-wireless-<% cfg_get("networkName") %>-encryption-wep");
            cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-encryption-wep", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"sta-wds"}, "cbip-wireless-<% cfg_get("networkName") %>-encryption-wep");
            cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-encryption-wep", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"adhoc"}, "cbip-wireless-<% cfg_get("networkName") %>-encryption-wep");
            cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-encryption-wep", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"ahdemo"}, "cbip-wireless-<% cfg_get("networkName") %>-encryption-wep");
            cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-encryption-wep", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"wds"}, "cbip-wireless-<% cfg_get("networkName") %>-encryption-wep");
            cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-encryption-psk", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"sta"}, "cbip-wireless-<% cfg_get("networkName") %>-encryption-psk");
            cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-encryption-psk", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"sta-wds"}, "cbip-wireless-<% cfg_get("networkName") %>-encryption-psk");
            cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-encryption-owe", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"ap"}, "cbip-wireless-<% cfg_get("networkName") %>-encryption-owe");
            cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-encryption-owe", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"ap-wds"}, "cbip-wireless-<% cfg_get("networkName") %>-encryption-owe");
            cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-encryption-psk2", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"ap"}, "cbip-wireless-<% cfg_get("networkName") %>-encryption-psk2");
            cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-encryption-psk2", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"sta"}, "cbip-wireless-<% cfg_get("networkName") %>-encryption-psk2");
            cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-encryption-psk2", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"ap-wds"}, "cbip-wireless-<% cfg_get("networkName") %>-encryption-psk2");
            cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-encryption-psk2", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"sta-wds"}, "cbip-wireless-<% cfg_get("networkName") %>-encryption-psk2");
            cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-encryption-sae", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"ap"}, "cbip-wireless-<% cfg_get("networkName") %>-encryption-sae");
            cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-encryption-sae", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"ap-wds"}, "cbip-wireless-<% cfg_get("networkName") %>-encryption-sae");
            cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-encryption-sae-mixed", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"ap"}, "cbip-wireless-<% cfg_get("networkName") %>-encryption-sae-mixed");
            cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-encryption-sae-mixed", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"ap-wds"}, "cbip-wireless-<% cfg_get("networkName") %>-encryption-sae-mixed");
            cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-encryption-psk-mixed", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"sta-wds"}, "cbip-wireless-<% cfg_get("networkName") %>-encryption-psk-mixed");
            cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-encryption-wpa", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"sta"}, "cbip-wireless-<% cfg_get("networkName") %>-encryption-wpa");
            cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-encryption-wpa", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"sta-wds"}, "cbip-wireless-<% cfg_get("networkName") %>-encryption-wpa");
            cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-encryption-wpa2", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"ap"}, "cbip-wireless-<% cfg_get("networkName") %>-encryption-wpa2");
            cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-encryption-wpa2", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"sta"}, "cbip-wireless-<% cfg_get("networkName") %>-encryption-wpa2");
            cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-encryption-wpa2", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"ap-wds"}, "cbip-wireless-<% cfg_get("networkName") %>-encryption-wpa2");
            cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-encryption-wpa2", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"sta-wds"}, "cbip-wireless-<% cfg_get("networkName") %>-encryption-wpa2");
            cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-encryption-wpa3-mixed", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"ap"}, "cbip-wireless-<% cfg_get("networkName") %>-encryption-wpa3-mixed");
            cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-encryption-wpa3-mixed", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"ap-wds"}, "cbip-wireless-<% cfg_get("networkName") %>-encryption-wpa3-mixed");
            cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-encryption-wpa3", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"ap"}, "cbip-wireless-<% cfg_get("networkName") %>-encryption-wpa3");
            cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-encryption-wpa3", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"ap-wds"}, "cbip-wireless-<% cfg_get("networkName") %>-encryption-wpa3");
            cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-encryption-wpa-mixed", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"sta-wds"}, "cbip-wireless-<% cfg_get("networkName") %>-encryption-wpa-mixed");
            cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-encryption", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"ap"}, "cbip-wireless-<% cfg_get("networkName") %>-encryption");
            cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-encryption", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"sta"}, "cbip-wireless-<% cfg_get("networkName") %>-encryption");
            cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-encryption", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"adhoc"}, "cbip-wireless-<% cfg_get("networkName") %>-encryption");
            cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-encryption", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"ahdemo"}, "cbip-wireless-<% cfg_get("networkName") %>-encryption");
            cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-encryption", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"ap-wds"}, "cbip-wireless-<% cfg_get("networkName") %>-encryption");
            cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-encryption", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"sta-wds"}, "cbip-wireless-<% cfg_get("networkName") %>-encryption");
            cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-encryption", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"mesh"}, "cbip-wireless-<% cfg_get("networkName") %>-encryption");
            cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-encryption", {"cbid.wireless.<% cfg_get("networkName") %>.nawds":"0"}, "cbip-wireless-<% cfg_get("networkName") %>-encryption");
        </script>
    
    <div class="cbi-value" id="cbi-wireless-<% cfg_get("networkName") %>-cipher"><label class="cbi-value-title" for="cbid.wireless.<% cfg_get("networkName") %>.cipher">$encryption</label>
            <div class="cbi-value-field">
    
    
        <select class="cbi-input-select" onchange="cbi_d_update(this.id)" id="cbid.wireless.<% cfg_get("networkName") %>.cipher" name="cbid.wireless.<% cfg_get("networkName") %>.cipher" size="1">
        <option id="cbi-wireless-<% cfg_get("networkName") %>-cipher-ccmp" value="ccmp" selected="selected">AES</option>
        </select>
    
            </div></div>
    
    
    <script type="text/javascript" id="cbip-wireless-<% cfg_get("networkName") %>-cipher">
            
            cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-cipher", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"wpa","cbid.wireless.<% cfg_get("networkName") %>.mode":"ap"}, "cbip-wireless-<% cfg_get("networkName") %>-cipher");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-cipher", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"wpa2","cbid.wireless.<% cfg_get("networkName") %>.mode":"ap"}, "cbip-wireless-<% cfg_get("networkName") %>-cipher");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-cipher", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"psk","cbid.wireless.<% cfg_get("networkName") %>.mode":"sta"}, "cbip-wireless-<% cfg_get("networkName") %>-cipher");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-cipher", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"psk2","cbid.wireless.<% cfg_get("networkName") %>.mode":"sta"}, "cbip-wireless-<% cfg_get("networkName") %>-cipher");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-cipher", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"psk","cbid.wireless.<% cfg_get("networkName") %>.mode":"ap"}, "cbip-wireless-<% cfg_get("networkName") %>-cipher");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-cipher", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"psk2","cbid.wireless.<% cfg_get("networkName") %>.mode":"ap"}, "cbip-wireless-<% cfg_get("networkName") %>-cipher");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-cipher", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"sae","cbid.wireless.<% cfg_get("networkName") %>.mode":"ap"}, "cbip-wireless-<% cfg_get("networkName") %>-cipher");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-cipher", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"wpa3-mixed","cbid.wireless.<% cfg_get("networkName") %>.encryption":"wpa3","cbid.wireless.<% cfg_get("networkName") %>.mode":"ap"}, "cbip-wireless-<% cfg_get("networkName") %>-cipher");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-cipher", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"sae-mixed","cbid.wireless.<% cfg_get("networkName") %>.mode":"ap"}, "cbip-wireless-<% cfg_get("networkName") %>-cipher");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-cipher", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"wpa-mixed","cbid.wireless.<% cfg_get("networkName") %>.mode":"ap"}, "cbip-wireless-<% cfg_get("networkName") %>-cipher");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-cipher", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"psk-mixed","cbid.wireless.<% cfg_get("networkName") %>.mode":"ap"}, "cbip-wireless-<% cfg_get("networkName") %>-cipher");
        </script>
    
    <div class="cbi-value" id="cbi-wireless-<% cfg_get("networkName") %>-auth_type"><label class="cbi-value-title" for="cbid.wireless.<% cfg_get("networkName") %>.auth_type">Auth Type</label>
            <div class="cbi-value-field">
    
    
        <select class="cbi-input-select" onchange="cbi_d_update(this.id)" id="cbid.wireless.<% cfg_get("networkName") %>.auth_type" name="cbid.wireless.<% cfg_get("networkName") %>.auth_type" size="1">
        <option id="cbi-wireless-<% cfg_get("networkName") %>-auth_type-open" value="open">Open System</option><option id="cbi-wireless-<% cfg_get("networkName") %>-auth_type-shared" value="shared">Shared Key</option>
        </select>
    
            </div></div>
    
    
    <script type="text/javascript" id="cbip-wireless-<% cfg_get("networkName") %>-auth_type">
            
            cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-auth_type", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"wep"}, "cbip-wireless-<% cfg_get("networkName") %>-auth_type");
        </script>
    
    <div class="cbi-value" id="cbi-wireless-<% cfg_get("networkName") %>-input_type"><label class="cbi-value-title" for="cbid.wireless.<% cfg_get("networkName") %>.input_type">Input Type</label>
            <div class="cbi-value-field">
    
    
        <select class="cbi-input-select" onchange="cbi_d_update(this.id)" id="cbid.wireless.<% cfg_get("networkName") %>.input_type" name="cbid.wireless.<% cfg_get("networkName") %>.input_type" size="1">
        <option id="cbi-wireless-<% cfg_get("networkName") %>-input_type-hex" value="hex" selected="selected">Hex</option><option id="cbi-wireless-<% cfg_get("networkName") %>-input_type-ascii" value="ascii">ASCII</option>
        </select>
    
            </div></div>
    
    
    <script type="text/javascript" id="cbip-wireless-<% cfg_get("networkName") %>-input_type">
            
            cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-input_type", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"wep"}, "cbip-wireless-<% cfg_get("networkName") %>-input_type");
        </script>
    
    <div class="cbi-value" id="cbi-wireless-<% cfg_get("networkName") %>-key_length"><label class="cbi-value-title" for="cbid.wireless.<% cfg_get("networkName") %>.key_length">Key Length</label>
            <div class="cbi-value-field">
    
    
        <select class="cbi-input-select" onchange="cbi_d_update(this.id)" id="cbid.wireless.<% cfg_get("networkName") %>.key_length" name="cbid.wireless.<% cfg_get("networkName") %>.key_length" size="1">
        <option id="cbi-wireless-<% cfg_get("networkName") %>-key_length-10" value="10">40/64-bit (10 hex digits or 5 ASCII char)</option><option id="cbi-wireless-<% cfg_get("networkName") %>-key_length-26" value="26">104/128-bit (26 hex digits or 13 ASCII char)</option><option id="cbi-wireless-<% cfg_get("networkName") %>-key_length-32" value="32">128/152-bit (32 hex digits or 16 ASCII char)</option>
        </select>
    
            </div></div>
    
    
    <script type="text/javascript" id="cbip-wireless-<% cfg_get("networkName") %>-key_length">
            
            cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-key_length", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"wep"}, "cbip-wireless-<% cfg_get("networkName") %>-key_length");
        </script>
    
    <div class="cbi-value" id="cbi-wireless-<% cfg_get("networkName") %>-key"><label class="cbi-value-title" for="cbid.wireless.<% cfg_get("networkName") %>.key">$Passphrase</label>
            <div class="cbi-value-field">
    
        <input type="password" class="cbi-input-text" onchange="cbi_d_update(this.id)" name='cbid.wireless.<% cfg_get("networkName") %>.key' id='cbid.wireless.<% cfg_get("networkName") %>.key' value="sharedsecret" maxlength="64" />
        <img src="image/eye-slash.svg" id="passphrase" style="vertical-align:middle" onclick="changeInputType('cbid.wireless.<% cfg_get("networkName") %>.key', 'passphrase')" />
                </div></div>
    
    
    <script type="text/javascript" id="cbip-wireless-<% cfg_get("networkName") %>-key">
            
            cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-key", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"psk"}, "cbip-wireless-<% cfg_get("networkName") %>-key");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-key", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"psk2"}, "cbip-wireless-<% cfg_get("networkName") %>-key");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-key", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"sae"}, "cbip-wireless-<% cfg_get("networkName") %>-key");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-key", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"sae-mixed"}, "cbip-wireless-<% cfg_get("networkName") %>-key");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-key", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"psk+psk2"}, "cbip-wireless-<% cfg_get("networkName") %>-key");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-key", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"psk-mixed"}, "cbip-wireless-<% cfg_get("networkName") %>-key");
        </script>
    
    <div class="cbi-value" id="cbi-wireless-<% cfg_get("networkName") %>-suite_b"><label class="cbi-value-title" for="cbid.wireless.<% cfg_get("networkName") %>.suite_b">SuiteB 192bits</label>
            <div class="cbi-value-field">
    
    
        <input class="cbi-input-radio" onclick="cbi_d_update(this.id)" onchange="cbi_d_update(this.id)" type="radio" id="cbid.wireless.<% cfg_get("networkName") %>.suite_b1" name="cbid.wireless.<% cfg_get("networkName") %>.suite_b" value="192" />
        <label for="cbid.wireless.<% cfg_get("networkName") %>.suite_b1">$enable</label>
    &#160;
    
        <input class="cbi-input-radio" onclick="cbi_d_update(this.id)" onchange="cbi_d_update(this.id)" type="radio" id="cbid.wireless.<% cfg_get("networkName") %>.suite_b1" name="cbid.wireless.<% cfg_get("networkName") %>.suite_b" value="" checked="checked" />
        <label for="cbid.wireless.<% cfg_get("networkName") %>.suite_b1">$disable</label>
    &#160;
    
    
            </div></div>
    
    
    
    
    <div class="cbi-value" id="cbi-wireless-<% cfg_get("networkName") %>-wpa_group_rekey"><label class="cbi-value-title" for="cbid.wireless.<% cfg_get("networkName") %>.wpa_group_rekey">$group_key_update_interval</label>
            <div class="cbi-value-field">
    
        <input type="text" class="cbi-input-text" onchange="cbi_d_update(this.id)" name="cbid.wireless.<% cfg_get("networkName") %>.wpa_group_rekey" id="cbid.wireless.<% cfg_get("networkName") %>.wpa_group_rekey" value="3600" maxlength="4" />
        
                </div></div>
    
    
    <script type="text/javascript" id="cbip-wireless-<% cfg_get("networkName") %>-wpa_group_rekey">
            
            cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-wpa_group_rekey", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"psk","cbid.wireless.<% cfg_get("networkName") %>.mode":"ap"}, "cbip-wireless-<% cfg_get("networkName") %>-wpa_group_rekey");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-wpa_group_rekey", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"psk2","cbid.wireless.<% cfg_get("networkName") %>.mode":"ap"}, "cbip-wireless-<% cfg_get("networkName") %>-wpa_group_rekey");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-wpa_group_rekey", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"sae","cbid.wireless.<% cfg_get("networkName") %>.mode":"ap"}, "cbip-wireless-<% cfg_get("networkName") %>-wpa_group_rekey");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-wpa_group_rekey", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"sae-mixed","cbid.wireless.<% cfg_get("networkName") %>.mode":"ap"}, "cbip-wireless-<% cfg_get("networkName") %>-wpa_group_rekey");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-wpa_group_rekey", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"psk-mixed","cbid.wireless.<% cfg_get("networkName") %>.mode":"ap"}, "cbip-wireless-<% cfg_get("networkName") %>-wpa_group_rekey");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-wpa_group_rekey", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"wpa","cbid.wireless.<% cfg_get("networkName") %>.mode":"ap"}, "cbip-wireless-<% cfg_get("networkName") %>-wpa_group_rekey");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-wpa_group_rekey", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"wpa2","cbid.wireless.<% cfg_get("networkName") %>.mode":"ap"}, "cbip-wireless-<% cfg_get("networkName") %>-wpa_group_rekey");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-wpa_group_rekey", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"wpa3","cbid.wireless.<% cfg_get("networkName") %>.mode":"ap"}, "cbip-wireless-<% cfg_get("networkName") %>-wpa_group_rekey");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-wpa_group_rekey", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"wpa3-mixed","cbid.wireless.<% cfg_get("networkName") %>.mode":"ap"}, "cbip-wireless-<% cfg_get("networkName") %>-wpa_group_rekey");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-wpa_group_rekey", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"wpa-mixed","cbid.wireless.<% cfg_get("networkName") %>.mode":"ap"}, "cbip-wireless-<% cfg_get("networkName") %>-wpa_group_rekey");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-wpa_group_rekey", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"wpa","cbid.wireless.<% cfg_get("networkName") %>.mode":"ap-wds"}, "cbip-wireless-<% cfg_get("networkName") %>-wpa_group_rekey");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-wpa_group_rekey", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"wpa2","cbid.wireless.<% cfg_get("networkName") %>.mode":"ap-wds"}, "cbip-wireless-<% cfg_get("networkName") %>-wpa_group_rekey");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-wpa_group_rekey", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"wpa3","cbid.wireless.<% cfg_get("networkName") %>.mode":"ap-wds"}, "cbip-wireless-<% cfg_get("networkName") %>-wpa_group_rekey");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-wpa_group_rekey", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"wpa3-mixed","cbid.wireless.<% cfg_get("networkName") %>.mode":"ap-wds"}, "cbip-wireless-<% cfg_get("networkName") %>-wpa_group_rekey");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-wpa_group_rekey", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"wpa-mixed","cbid.wireless.<% cfg_get("networkName") %>.mode":"ap-wds"}, "cbip-wireless-<% cfg_get("networkName") %>-wpa_group_rekey");
        </script>
    
    <div class="cbi-value" id="cbi-wireless-<% cfg_get("networkName") %>-auth_server"><label class="cbi-value-title" for="cbid.wireless.<% cfg_get("networkName") %>.auth_server">Radius Server</label>
            <div class="cbi-value-field">
    
        <input type="text" class="cbi-input-text" onchange="cbi_d_update(this.id)" name="cbid.wireless.<% cfg_get("networkName") %>.auth_server" id="cbid.wireless.<% cfg_get("networkName") %>.auth_server" value="" />
        
                </div></div>
    
    
    <script type="text/javascript" id="cbip-wireless-<% cfg_get("networkName") %>-auth_server">
            
            cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-auth_server", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"wpa","cbid.wireless.<% cfg_get("networkName") %>.mode":"ap"}, "cbip-wireless-<% cfg_get("networkName") %>-auth_server");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-auth_server", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"wpa2","cbid.wireless.<% cfg_get("networkName") %>.mode":"ap"}, "cbip-wireless-<% cfg_get("networkName") %>-auth_server");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-auth_server", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"wpa3","cbid.wireless.<% cfg_get("networkName") %>.mode":"ap"}, "cbip-wireless-<% cfg_get("networkName") %>-auth_server");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-auth_server", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"wpa3-mixed","cbid.wireless.<% cfg_get("networkName") %>.mode":"ap"}, "cbip-wireless-<% cfg_get("networkName") %>-auth_server");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-auth_server", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"wpa-mixed","cbid.wireless.<% cfg_get("networkName") %>.mode":"ap"}, "cbip-wireless-<% cfg_get("networkName") %>-auth_server");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-auth_server", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"wpa","cbid.wireless.<% cfg_get("networkName") %>.mode":"ap-wds"}, "cbip-wireless-<% cfg_get("networkName") %>-auth_server");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-auth_server", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"wpa2","cbid.wireless.<% cfg_get("networkName") %>.mode":"ap-wds"}, "cbip-wireless-<% cfg_get("networkName") %>-auth_server");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-auth_server", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"wpa3","cbid.wireless.<% cfg_get("networkName") %>.mode":"ap-wds"}, "cbip-wireless-<% cfg_get("networkName") %>-auth_server");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-auth_server", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"wpa3-mixed","cbid.wireless.<% cfg_get("networkName") %>.mode":"ap-wds"}, "cbip-wireless-<% cfg_get("networkName") %>-auth_server");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-auth_server", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"wpa-mixed","cbid.wireless.<% cfg_get("networkName") %>.mode":"ap-wds"}, "cbip-wireless-<% cfg_get("networkName") %>-auth_server");
        </script>
    
    <div class="cbi-value" id="cbi-wireless-<% cfg_get("networkName") %>-auth_port"><label class="cbi-value-title" for="cbid.wireless.<% cfg_get("networkName") %>.auth_port">Radius Port</label>
            <div class="cbi-value-field">
    
        <input type="text" class="cbi-input-text" onchange="cbi_d_update(this.id)" name="cbid.wireless.<% cfg_get("networkName") %>.auth_port" id="cbid.wireless.<% cfg_get("networkName") %>.auth_port" value="1812" maxlength="5" />
        
                </div></div>
    
    
    <script type="text/javascript" id="cbip-wireless-<% cfg_get("networkName") %>-auth_port">
            
            cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-auth_port", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"wpa","cbid.wireless.<% cfg_get("networkName") %>.mode":"ap"}, "cbip-wireless-<% cfg_get("networkName") %>-auth_port");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-auth_port", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"wpa2","cbid.wireless.<% cfg_get("networkName") %>.mode":"ap"}, "cbip-wireless-<% cfg_get("networkName") %>-auth_port");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-auth_port", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"wpa3","cbid.wireless.<% cfg_get("networkName") %>.mode":"ap"}, "cbip-wireless-<% cfg_get("networkName") %>-auth_port");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-auth_port", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"wpa3-mixed","cbid.wireless.<% cfg_get("networkName") %>.mode":"ap"}, "cbip-wireless-<% cfg_get("networkName") %>-auth_port");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-auth_port", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"wpa-mixed","cbid.wireless.<% cfg_get("networkName") %>.mode":"ap"}, "cbip-wireless-<% cfg_get("networkName") %>-auth_port");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-auth_port", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"wpa","cbid.wireless.<% cfg_get("networkName") %>.mode":"ap-wds"}, "cbip-wireless-<% cfg_get("networkName") %>-auth_port");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-auth_port", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"wpa2","cbid.wireless.<% cfg_get("networkName") %>.mode":"ap-wds"}, "cbip-wireless-<% cfg_get("networkName") %>-auth_port");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-auth_port", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"wpa3","cbid.wireless.<% cfg_get("networkName") %>.mode":"ap-wds"}, "cbip-wireless-<% cfg_get("networkName") %>-auth_port");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-auth_port", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"wpa3-mixed","cbid.wireless.<% cfg_get("networkName") %>.mode":"ap-wds"}, "cbip-wireless-<% cfg_get("networkName") %>-auth_port");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-auth_port", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"wpa-mixed","cbid.wireless.<% cfg_get("networkName") %>.mode":"ap-wds"}, "cbip-wireless-<% cfg_get("networkName") %>-auth_port");
        </script>
    
    <div class="cbi-value" id="cbi-wireless-<% cfg_get("networkName") %>-auth_secret"><label class="cbi-value-title" for="cbid.wireless.<% cfg_get("networkName") %>.auth_secret">Radius Secret</label>
            <div class="cbi-value-field">
    
        <input type="password" class="cbi-input-text" onchange="cbi_d_update(this.id)" name="cbid.wireless.<% cfg_get("networkName") %>.auth_secret" id="cbid.wireless.<% cfg_get("networkName") %>.auth_secret" value="" maxlength="64" />
        <img src="image/eye-slash.svg" id="radius_secret" style="vertical-align:middle" onclick="changeInputType('cbid.wireless.<% cfg_get("networkName") %>.auth_secret', 'radius_secret')" />
        
                </div></div>
    
    
    <script type="text/javascript" id="cbip-wireless-<% cfg_get("networkName") %>-auth_secret">
            
            cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-auth_secret", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"wpa","cbid.wireless.<% cfg_get("networkName") %>.mode":"ap"}, "cbip-wireless-<% cfg_get("networkName") %>-auth_secret");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-auth_secret", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"wpa2","cbid.wireless.<% cfg_get("networkName") %>.mode":"ap"}, "cbip-wireless-<% cfg_get("networkName") %>-auth_secret");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-auth_secret", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"wpa3","cbid.wireless.<% cfg_get("networkName") %>.mode":"ap"}, "cbip-wireless-<% cfg_get("networkName") %>-auth_secret");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-auth_secret", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"wpa3-mixed","cbid.wireless.<% cfg_get("networkName") %>.mode":"ap"}, "cbip-wireless-<% cfg_get("networkName") %>-auth_secret");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-auth_secret", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"wpa-mixed","cbid.wireless.<% cfg_get("networkName") %>.mode":"ap"}, "cbip-wireless-<% cfg_get("networkName") %>-auth_secret");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-auth_secret", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"wpa","cbid.wireless.<% cfg_get("networkName") %>.mode":"ap-wds"}, "cbip-wireless-<% cfg_get("networkName") %>-auth_secret");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-auth_secret", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"wpa2","cbid.wireless.<% cfg_get("networkName") %>.mode":"ap-wds"}, "cbip-wireless-<% cfg_get("networkName") %>-auth_secret");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-auth_secret", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"wpa3","cbid.wireless.<% cfg_get("networkName") %>.mode":"ap-wds"}, "cbip-wireless-<% cfg_get("networkName") %>-auth_secret");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-auth_secret", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"wpa3-mixed","cbid.wireless.<% cfg_get("networkName") %>.mode":"ap-wds"}, "cbip-wireless-<% cfg_get("networkName") %>-auth_secret");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-auth_secret", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"wpa-mixed","cbid.wireless.<% cfg_get("networkName") %>.mode":"ap-wds"}, "cbip-wireless-<% cfg_get("networkName") %>-auth_secret");
        </script>
    
    <div class="cbi-value" id="cbi-wireless-<% cfg_get("networkName") %>-acct_enabled"><label class="cbi-value-title" for="cbid.wireless.<% cfg_get("networkName") %>.acct_enabled">Radius Accounting</label>
            <div class="cbi-value-field">
    
    
        <input class="cbi-input-radio" onclick="cbi_d_update(this.id)" onchange="cbi_d_update(this.id)" type="radio" id="cbid.wireless.<% cfg_get("networkName") %>.acct_enabled1" name="cbid.wireless.<% cfg_get("networkName") %>.acct_enabled" value="1" />
        <label for="cbid.wireless.<% cfg_get("networkName") %>.acct_enabled1">$enable</label>
    &#160;
    
        <input class="cbi-input-radio" onclick="cbi_d_update(this.id)" onchange="cbi_d_update(this.id)" type="radio" id="cbid.wireless.<% cfg_get("networkName") %>.acct_enabled1" name="cbid.wireless.<% cfg_get("networkName") %>.acct_enabled" value="0" checked="checked" />
        <label for="cbid.wireless.<% cfg_get("networkName") %>.acct_enabled1">$disable</label>
    &#160;
    
    
            </div></div>
    
    
    <script type="text/javascript" id="cbip-wireless-<% cfg_get("networkName") %>-acct_enabled">
            
            cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-acct_enabled", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"ap"}, "cbip-wireless-<% cfg_get("networkName") %>-acct_enabled");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-acct_enabled", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"ap-wds"}, "cbip-wireless-<% cfg_get("networkName") %>-acct_enabled");
        </script>
    
    <div class="cbi-value" id="cbi-wireless-<% cfg_get("networkName") %>-acct_server"><label class="cbi-value-title" for="cbid.wireless.<% cfg_get("networkName") %>.acct_server">Radius Accounting Server</label>
            <div class="cbi-value-field">
    
        <input type="text" class="cbi-input-text" onchange="cbi_d_update(this.id)" name="cbid.wireless.<% cfg_get("networkName") %>.acct_server" id="cbid.wireless.<% cfg_get("networkName") %>.acct_server" value="" />
        
                </div></div>
    
    
    <script type="text/javascript" id="cbip-wireless-<% cfg_get("networkName") %>-acct_server">
            
            cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-acct_server", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"ap"}, "cbip-wireless-<% cfg_get("networkName") %>-acct_server");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-acct_server", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"ap-wds"}, "cbip-wireless-<% cfg_get("networkName") %>-acct_server");
        </script>
    
    <div class="cbi-value" id="cbi-wireless-<% cfg_get("networkName") %>-acct_port"><label class="cbi-value-title" for="cbid.wireless.<% cfg_get("networkName") %>.acct_port">Radius Accounting Port</label>
            <div class="cbi-value-field">
    
        <input type="text" class="cbi-input-text" onchange="cbi_d_update(this.id)" name="cbid.wireless.<% cfg_get("networkName") %>.acct_port" id="cbid.wireless.<% cfg_get("networkName") %>.acct_port" value="1813" maxlength="5" />
        
                </div></div>
    
    
    <script type="text/javascript" id="cbip-wireless-<% cfg_get("networkName") %>-acct_port">
            
            cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-acct_port", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"ap"}, "cbip-wireless-<% cfg_get("networkName") %>-acct_port");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-acct_port", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"ap-wds"}, "cbip-wireless-<% cfg_get("networkName") %>-acct_port");
        </script>
    
    <div class="cbi-value" id="cbi-wireless-<% cfg_get("networkName") %>-acct_secret"><label class="cbi-value-title" for="cbid.wireless.<% cfg_get("networkName") %>.acct_secret">Radius Accounting Secret</label>
            <div class="cbi-value-field">
    
        <input type="text" class="cbi-input-text" onchange="cbi_d_update(this.id)" name="cbid.wireless.<% cfg_get("networkName") %>.acct_secret" id="cbid.wireless.<% cfg_get("networkName") %>.acct_secret" value="" maxlength="64" />
        
                </div></div>
    
    
    <script type="text/javascript" id="cbip-wireless-<% cfg_get("networkName") %>-acct_secret">
            
            cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-acct_secret", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"ap"}, "cbip-wireless-<% cfg_get("networkName") %>-acct_secret");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-acct_secret", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"ap-wds"}, "cbip-wireless-<% cfg_get("networkName") %>-acct_secret");
        </script>
    
    <div class="cbi-value" id="cbi-wireless-<% cfg_get("networkName") %>-acct_interval"><label class="cbi-value-title" for="cbid.wireless.<% cfg_get("networkName") %>.acct_interval">$interim_account_interval</label>
            <div class="cbi-value-field">
    
        <input type="text" class="cbi-input-text" onchange="cbi_d_update(this.id)" name="cbid.wireless.<% cfg_get("networkName") %>.acct_interval" id="cbid.wireless.<% cfg_get("networkName") %>.acct_interval" value="600" maxlength="4" />
        
                </div></div>
    
    
    <script type="text/javascript" id="cbip-wireless-<% cfg_get("networkName") %>-acct_interval">
            
            cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-acct_interval", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"ap"}, "cbip-wireless-<% cfg_get("networkName") %>-acct_interval");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-acct_interval", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"ap-wds"}, "cbip-wireless-<% cfg_get("networkName") %>-acct_interval");
        </script>
    
    <div class="cbi-value" id="cbi-wireless-<% cfg_get("networkName") %>-key_id"><label class="cbi-value-title" for="cbid.wireless.<% cfg_get("networkName") %>.key_id">Default Key</label>
            <div class="cbi-value-field">
    
    
        <select class="cbi-input-select" onchange="cbi_d_update(this.id)" id="cbid.wireless.<% cfg_get("networkName") %>.key_id" name="cbid.wireless.<% cfg_get("networkName") %>.key_id" size="1">
        <option id="cbi-wireless-<% cfg_get("networkName") %>-key_id-1" value="1" selected="selected">Key #1</option><option id="cbi-wireless-<% cfg_get("networkName") %>-key_id-2" value="2">Key #2</option><option id="cbi-wireless-<% cfg_get("networkName") %>-key_id-3" value="3">Key #3</option><option id="cbi-wireless-<% cfg_get("networkName") %>-key_id-4" value="4">Key #4</option>
        </select>
    
            </div></div>
    
    
    <script type="text/javascript" id="cbip-wireless-<% cfg_get("networkName") %>-key_id">
            
            cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-key_id", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"wep-open"}, "cbip-wireless-<% cfg_get("networkName") %>-key_id");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-key_id", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"wep-shared"}, "cbip-wireless-<% cfg_get("networkName") %>-key_id");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-key_id", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"wep"}, "cbip-wireless-<% cfg_get("networkName") %>-key_id");
        </script>
    
    <div class="cbi-value" id="cbi-wireless-<% cfg_get("networkName") %>-key1"><label class="cbi-value-title" for="cbid.wireless.<% cfg_get("networkName") %>.key1">Key #1</label>
            <div class="cbi-value-field">
    
        <input type="text" class="cbi-input-text" onchange="cbi_d_update(this.id)" name="cbid.wireless.<% cfg_get("networkName") %>.key1" id="cbid.wireless.<% cfg_get("networkName") %>.key1" value="" />
        
                </div></div>
    
    
    <script type="text/javascript" id="cbip-wireless-<% cfg_get("networkName") %>-key1">
            
            cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-key1", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"wep-open"}, "cbip-wireless-<% cfg_get("networkName") %>-key1");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-key1", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"wep-shared"}, "cbip-wireless-<% cfg_get("networkName") %>-key1");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-key1", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"wep"}, "cbip-wireless-<% cfg_get("networkName") %>-key1");
        </script>
    
    <div class="cbi-value" id="cbi-wireless-<% cfg_get("networkName") %>-key2"><label class="cbi-value-title" for="cbid.wireless.<% cfg_get("networkName") %>.key2">Key #2</label>
            <div class="cbi-value-field">
    
        <input type="text" class="cbi-input-text" onchange="cbi_d_update(this.id)" name="cbid.wireless.<% cfg_get("networkName") %>.key2" id="cbid.wireless.<% cfg_get("networkName") %>.key2" value="" />
        
                </div></div>
    
    
    <script type="text/javascript" id="cbip-wireless-<% cfg_get("networkName") %>-key2">
            
            cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-key2", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"wep-open"}, "cbip-wireless-<% cfg_get("networkName") %>-key2");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-key2", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"wep-shared"}, "cbip-wireless-<% cfg_get("networkName") %>-key2");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-key2", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"wep"}, "cbip-wireless-<% cfg_get("networkName") %>-key2");
        </script>
    
    <div class="cbi-value" id="cbi-wireless-<% cfg_get("networkName") %>-key3"><label class="cbi-value-title" for="cbid.wireless.<% cfg_get("networkName") %>.key3">Key #3</label>
            <div class="cbi-value-field">
    
        <input type="text" class="cbi-input-text" onchange="cbi_d_update(this.id)" name="cbid.wireless.<% cfg_get("networkName") %>.key3" id="cbid.wireless.<% cfg_get("networkName") %>.key3" value="" />
        
                </div></div>
    
    
    <script type="text/javascript" id="cbip-wireless-<% cfg_get("networkName") %>-key3">
            
            cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-key3", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"wep-open"}, "cbip-wireless-<% cfg_get("networkName") %>-key3");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-key3", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"wep-shared"}, "cbip-wireless-<% cfg_get("networkName") %>-key3");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-key3", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"wep"}, "cbip-wireless-<% cfg_get("networkName") %>-key3");
        </script>
    
    <div class="cbi-value" id="cbi-wireless-<% cfg_get("networkName") %>-key4"><label class="cbi-value-title" for="cbid.wireless.<% cfg_get("networkName") %>.key4">Key #4</label>
            <div class="cbi-value-field">
    
        <input type="text" class="cbi-input-text" onchange="cbi_d_update(this.id)" name="cbid.wireless.<% cfg_get("networkName") %>.key4" id="cbid.wireless.<% cfg_get("networkName") %>.key4" value="" />
        
                </div></div>
    
    
    <script type="text/javascript" id="cbip-wireless-<% cfg_get("networkName") %>-key4">
            
            cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-key4", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"wep-open"}, "cbip-wireless-<% cfg_get("networkName") %>-key4");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-key4", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"wep-shared"}, "cbip-wireless-<% cfg_get("networkName") %>-key4");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-key4", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"wep"}, "cbip-wireless-<% cfg_get("networkName") %>-key4");
        </script>
    
    <div class="cbi-value" id="cbi-wireless-<% cfg_get("networkName") %>-eap_type"><label class="cbi-value-title" for="cbid.wireless.<% cfg_get("networkName") %>.eap_type">EAP Method</label>
            <div class="cbi-value-field">
    
    
        <select class="cbi-input-select" onchange="cbi_d_update(this.id)" id="cbid.wireless.<% cfg_get("networkName") %>.eap_type" name="cbid.wireless.<% cfg_get("networkName") %>.eap_type" size="1">
        <option id="cbi-wireless-<% cfg_get("networkName") %>-eap_type-ttls" value="ttls">TTLS</option><option id="cbi-wireless-<% cfg_get("networkName") %>-eap_type-peap" value="peap">PEAP</option>
        </select>
    
            </div></div>
    
    
    <script type="text/javascript" id="cbip-wireless-<% cfg_get("networkName") %>-eap_type">
            
            cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-eap_type", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"wpa","cbid.wireless.<% cfg_get("networkName") %>.mode":"sta"}, "cbip-wireless-<% cfg_get("networkName") %>-eap_type");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-eap_type", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"wpa2","cbid.wireless.<% cfg_get("networkName") %>.mode":"sta"}, "cbip-wireless-<% cfg_get("networkName") %>-eap_type");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-eap_type", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"wpa","cbid.wireless.<% cfg_get("networkName") %>.mode":"sta-wds"}, "cbip-wireless-<% cfg_get("networkName") %>-eap_type");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-eap_type", {"cbid.wireless.<% cfg_get("networkName") %>.encryption":"wpa2","cbid.wireless.<% cfg_get("networkName") %>.mode":"sta-wds"}, "cbip-wireless-<% cfg_get("networkName") %>-eap_type");
        </script>
    
    <div class="cbi-value" id="cbi-wireless-<% cfg_get("networkName") %>-auth"><label class="cbi-value-title" for="cbid.wireless.<% cfg_get("networkName") %>.auth">EAP Authentication</label>
            <div class="cbi-value-field">
    
    
        <select class="cbi-input-select" onchange="cbi_d_update(this.id)" id="cbid.wireless.<% cfg_get("networkName") %>.auth" name="cbid.wireless.<% cfg_get("networkName") %>.auth" size="1">
        <option id="cbi-wireless-<% cfg_get("networkName") %>-auth-MSCHAP" value="MSCHAP">MSCHAP</option><option id="cbi-wireless-<% cfg_get("networkName") %>-auth-MSCHAPV2" value="MSCHAPV2">MSCHAPV2</option>
        </select>
    
            </div></div>
    
    
    <script type="text/javascript" id="cbip-wireless-<% cfg_get("networkName") %>-auth">
            
            cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-auth", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"sta","cbid.wireless.<% cfg_get("networkName") %>.encryption":"wpa2","cbid.wireless.<% cfg_get("networkName") %>.eap_type":"peap"}, "cbip-wireless-<% cfg_get("networkName") %>-auth");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-auth", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"sta","cbid.wireless.<% cfg_get("networkName") %>.encryption":"wpa","cbid.wireless.<% cfg_get("networkName") %>.eap_type":"peap"}, "cbip-wireless-<% cfg_get("networkName") %>-auth");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-auth", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"sta","cbid.wireless.<% cfg_get("networkName") %>.encryption":"wpa2","cbid.wireless.<% cfg_get("networkName") %>.eap_type":"ttls"}, "cbip-wireless-<% cfg_get("networkName") %>-auth");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-auth", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"sta","cbid.wireless.<% cfg_get("networkName") %>.encryption":"wpa","cbid.wireless.<% cfg_get("networkName") %>.eap_type":"ttls"}, "cbip-wireless-<% cfg_get("networkName") %>-auth");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-auth", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"sta-wds","cbid.wireless.<% cfg_get("networkName") %>.encryption":"wpa2","cbid.wireless.<% cfg_get("networkName") %>.eap_type":"peap"}, "cbip-wireless-<% cfg_get("networkName") %>-auth");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-auth", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"sta-wds","cbid.wireless.<% cfg_get("networkName") %>.encryption":"wpa","cbid.wireless.<% cfg_get("networkName") %>.eap_type":"peap"}, "cbip-wireless-<% cfg_get("networkName") %>-auth");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-auth", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"sta-wds","cbid.wireless.<% cfg_get("networkName") %>.encryption":"wpa2","cbid.wireless.<% cfg_get("networkName") %>.eap_type":"ttls"}, "cbip-wireless-<% cfg_get("networkName") %>-auth");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-auth", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"sta-wds","cbid.wireless.<% cfg_get("networkName") %>.encryption":"wpa","cbid.wireless.<% cfg_get("networkName") %>.eap_type":"ttls"}, "cbip-wireless-<% cfg_get("networkName") %>-auth");
        </script>
    
    <div class="cbi-value" id="cbi-wireless-<% cfg_get("networkName") %>-identity"><label class="cbi-value-title" for="cbid.wireless.<% cfg_get("networkName") %>.identity">Authentication Identity</label>
            <div class="cbi-value-field">
    
        <input type="text" class="cbi-input-text" onchange="cbi_d_update(this.id)" name="cbid.wireless.<% cfg_get("networkName") %>.identity" id="cbid.wireless.<% cfg_get("networkName") %>.identity" value="" />
        
                </div></div>
    
    
    <script type="text/javascript" id="cbip-wireless-<% cfg_get("networkName") %>-identity">
            
            cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-identity", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"sta","cbid.wireless.<% cfg_get("networkName") %>.encryption":"wpa2","cbid.wireless.<% cfg_get("networkName") %>.eap_type":"peap"}, "cbip-wireless-<% cfg_get("networkName") %>-identity");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-identity", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"sta","cbid.wireless.<% cfg_get("networkName") %>.encryption":"wpa","cbid.wireless.<% cfg_get("networkName") %>.eap_type":"peap"}, "cbip-wireless-<% cfg_get("networkName") %>-identity");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-identity", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"sta","cbid.wireless.<% cfg_get("networkName") %>.encryption":"wpa2","cbid.wireless.<% cfg_get("networkName") %>.eap_type":"ttls"}, "cbip-wireless-<% cfg_get("networkName") %>-identity");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-identity", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"sta","cbid.wireless.<% cfg_get("networkName") %>.encryption":"wpa","cbid.wireless.<% cfg_get("networkName") %>.eap_type":"ttls"}, "cbip-wireless-<% cfg_get("networkName") %>-identity");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-identity", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"sta-wds","cbid.wireless.<% cfg_get("networkName") %>.encryption":"wpa2","cbid.wireless.<% cfg_get("networkName") %>.eap_type":"peap"}, "cbip-wireless-<% cfg_get("networkName") %>-identity");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-identity", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"sta-wds","cbid.wireless.<% cfg_get("networkName") %>.encryption":"wpa","cbid.wireless.<% cfg_get("networkName") %>.eap_type":"peap"}, "cbip-wireless-<% cfg_get("networkName") %>-identity");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-identity", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"sta-wds","cbid.wireless.<% cfg_get("networkName") %>.encryption":"wpa2","cbid.wireless.<% cfg_get("networkName") %>.eap_type":"ttls"}, "cbip-wireless-<% cfg_get("networkName") %>-identity");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-identity", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"sta-wds","cbid.wireless.<% cfg_get("networkName") %>.encryption":"wpa","cbid.wireless.<% cfg_get("networkName") %>.eap_type":"ttls"}, "cbip-wireless-<% cfg_get("networkName") %>-identity");
        </script>
    
    <div class="cbi-value" id="cbi-wireless-<% cfg_get("networkName") %>-password"><label class="cbi-value-title" for="cbid.wireless.<% cfg_get("networkName") %>.password">Authentication Password</label>
            <div class="cbi-value-field">
    
        <input type="text" class="cbi-input-text" onchange="cbi_d_update(this.id)" name="cbid.wireless.<% cfg_get("networkName") %>.password" id="cbid.wireless.<% cfg_get("networkName") %>.password" value="" />
        
                </div></div>
    
    
    <script type="text/javascript" id="cbip-wireless-<% cfg_get("networkName") %>-password">
            
            cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-password", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"sta","cbid.wireless.<% cfg_get("networkName") %>.encryption":"wpa2","cbid.wireless.<% cfg_get("networkName") %>.eap_type":"peap"}, "cbip-wireless-<% cfg_get("networkName") %>-password");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-password", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"sta","cbid.wireless.<% cfg_get("networkName") %>.encryption":"wpa","cbid.wireless.<% cfg_get("networkName") %>.eap_type":"peap"}, "cbip-wireless-<% cfg_get("networkName") %>-password");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-password", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"sta","cbid.wireless.<% cfg_get("networkName") %>.encryption":"wpa2","cbid.wireless.<% cfg_get("networkName") %>.eap_type":"ttls"}, "cbip-wireless-<% cfg_get("networkName") %>-password");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-password", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"sta","cbid.wireless.<% cfg_get("networkName") %>.encryption":"wpa","cbid.wireless.<% cfg_get("networkName") %>.eap_type":"ttls"}, "cbip-wireless-<% cfg_get("networkName") %>-password");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-password", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"sta-wds","cbid.wireless.<% cfg_get("networkName") %>.encryption":"wpa2","cbid.wireless.<% cfg_get("networkName") %>.eap_type":"peap"}, "cbip-wireless-<% cfg_get("networkName") %>-password");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-password", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"sta-wds","cbid.wireless.<% cfg_get("networkName") %>.encryption":"wpa","cbid.wireless.<% cfg_get("networkName") %>.eap_type":"peap"}, "cbip-wireless-<% cfg_get("networkName") %>-password");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-password", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"sta-wds","cbid.wireless.<% cfg_get("networkName") %>.encryption":"wpa2","cbid.wireless.<% cfg_get("networkName") %>.eap_type":"ttls"}, "cbip-wireless-<% cfg_get("networkName") %>-password");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-password", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"sta-wds","cbid.wireless.<% cfg_get("networkName") %>.encryption":"wpa","cbid.wireless.<% cfg_get("networkName") %>.eap_type":"ttls"}, "cbip-wireless-<% cfg_get("networkName") %>-password");
        </script>
    
    <div class="cbi-value" id="cbi-wireless-<% cfg_get("networkName") %>-macfilter"><label class="cbi-value-title" for="cbid.wireless.<% cfg_get("networkName") %>.macfilter">$acl_mode</label>
            <div class="cbi-value-field">
    
    
        <select class="cbi-input-select" onchange="cbi_d_update(this.id)" id="cbid.wireless.<% cfg_get("networkName") %>.macfilter" name="cbid.wireless.<% cfg_get("networkName") %>.macfilter" size="1">
        <option id="cbi-wireless-<% cfg_get("networkName") %>-macfilter-" value="">$disabled</option><option id="cbi-wireless-<% cfg_get("networkName") %>-macfilter-allow" value="allow">$allow_mac_in_the_list</option><option id="cbi-wireless-<% cfg_get("networkName") %>-macfilter-deny" value="deny">Deny MAC in the List</option>
        </select>
    
            </div></div>
    
    
    <script type="text/javascript" id="cbip-wireless-<% cfg_get("networkName") %>-macfilter">
            
            cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-macfilter", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"ap"}, "cbip-wireless-<% cfg_get("networkName") %>-macfilter");cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-macfilter", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"ap-wds"}, "cbip-wireless-<% cfg_get("networkName") %>-macfilter");
        </script>
    
    <div class="cbi-value" id="cbi-wireless-<% cfg_get("networkName") %>-allowmaclist"><label class="cbi-value-title" for="cbid.wireless.<% cfg_get("networkName") %>.allowmaclist">allow</label>
            <div class="cbi-value-field">
    
        <input type="text" class="cbi-input-text" onchange="cbi_d_update(this.id)" name="cbid.wireless.<% cfg_get("networkName") %>.allowmaclist" id="cbid.wireless.<% cfg_get("networkName") %>.allowmaclist" value="" />
        
                </div></div>
    
    
    <script type="text/javascript" id="cbip-wireless-<% cfg_get("networkName") %>-allowmaclist">
            
            cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-allowmaclist", {"cbid.wireless.<% cfg_get("networkName") %>.macfilter":"allow"}, "cbip-wireless-<% cfg_get("networkName") %>-allowmaclist");
        </script>
    
    <div class="cbi-value" id="cbi-wireless-<% cfg_get("networkName") %>-denymaclist"><label class="cbi-value-title" for="cbid.wireless.<% cfg_get("networkName") %>.denymaclist">deny</label>
            <div class="cbi-value-field">
    
        <input type="text" class="cbi-input-text" onchange="cbi_d_update(this.id)" name="cbid.wireless.<% cfg_get("networkName") %>.denymaclist" id="cbid.wireless.<% cfg_get("networkName") %>.denymaclist" value="" />
        
                </div></div>
    
    
    <script type="text/javascript" id="cbip-wireless-<% cfg_get("networkName") %>-denymaclist">
            
            cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-denymaclist", {"cbid.wireless.<% cfg_get("networkName") %>.macfilter":"deny"}, "cbip-wireless-<% cfg_get("networkName") %>-denymaclist");
        </script>
    
    <div class="cbi-value" id="cbi-wireless-<% cfg_get("networkName") %>-tc_enabled"><label class="cbi-value-title" for="cbid.wireless.<% cfg_get("networkName") %>.tc_enabled">$status</label>
            <div class="cbi-value-field">
    
    
        <input class="cbi-input-radio" onclick="cbi_d_update(this.id)" onchange="cbi_d_update(this.id)" type="radio" id="cbid.wireless.<% cfg_get("networkName") %>.tc_enabled1" name="cbid.wireless.<% cfg_get("networkName") %>.tc_enabled" value="1" />
        <label for="cbid.wireless.<% cfg_get("networkName") %>.tc_enabled1">$enable</label>
    &#160;
    
        <input class="cbi-input-radio" onclick="cbi_d_update(this.id)" onchange="cbi_d_update(this.id)" type="radio" id="cbid.wireless.<% cfg_get("networkName") %>.tc_enabled1" name="cbid.wireless.<% cfg_get("networkName") %>.tc_enabled" value="0" checked="checked" />
        <label for="cbid.wireless.<% cfg_get("networkName") %>.tc_enabled1">$disable</label>
    &#160;
    
    
            </div></div>
    
    
    <script type="text/javascript" id="cbip-wireless-<% cfg_get("networkName") %>-tc_enabled">
            
            cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-tc_enabled", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"ap"}, "cbip-wireless-<% cfg_get("networkName") %>-tc_enabled");
        </script>
    
    <div class="cbi-value" id="cbi-wireless-<% cfg_get("networkName") %>-tc_downlimit"><label class="cbi-value-title" for="cbid.wireless.<% cfg_get("networkName") %>.tc_downlimit">$download_limit</label>
            <div class="cbi-value-field">
    
        <input type="text" class="cbi-input-text" onchange="cbi_d_update(this.id)" name="cbid.wireless.<% cfg_get("networkName") %>.tc_downlimit" id="cbid.wireless.<% cfg_get("networkName") %>.tc_downlimit" value="0" maxlength="3" />
        
                </div></div>
    
    
    <script type="text/javascript" id="cbip-wireless-<% cfg_get("networkName") %>-tc_downlimit">
            
            cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-tc_downlimit", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"ap"}, "cbip-wireless-<% cfg_get("networkName") %>-tc_downlimit");
        </script>
    
    <div class="cbi-value" id="cbi-wireless-<% cfg_get("networkName") %>-tc_uplimit"><label class="cbi-value-title" for="cbid.wireless.<% cfg_get("networkName") %>.tc_uplimit">$upload_limit</label>
            <div class="cbi-value-field">
    
        <input type="text" class="cbi-input-text" onchange="cbi_d_update(this.id)" name="cbid.wireless.<% cfg_get("networkName") %>.tc_uplimit" id="cbid.wireless.<% cfg_get("networkName") %>.tc_uplimit" value="0" maxlength="3" />
        
                </div></div>
    
    
    <script type="text/javascript" id="cbip-wireless-<% cfg_get("networkName") %>-tc_uplimit">
            
            cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-tc_uplimit", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"ap"}, "cbip-wireless-<% cfg_get("networkName") %>-tc_uplimit");
        </script>
    
    <div class="cbi-value" id="cbi-wireless-<% cfg_get("networkName") %>-preferbssid_enable"><label class="cbi-value-title" for="cbid.wireless.<% cfg_get("networkName") %>.preferbssid_enable">preferbssid_enable</label>
            <div class="cbi-value-field">
    
        <input type="hidden" value="1" name="cbi.cbe.wireless.<% cfg_get("networkName") %>.preferbssid_enable" />
        <input class="cbi-input-checkbox" onclick="cbi_d_update(this.id)" onchange="cbi_d_update(this.id)" type="checkbox" id="cbid.wireless.<% cfg_get("networkName") %>.preferbssid_enable" name="cbid.wireless.<% cfg_get("networkName") %>.preferbssid_enable" value="1" />
            </div></div>
    
    
    <script type="text/javascript" id="cbip-wireless-<% cfg_get("networkName") %>-preferbssid_enable">
            
            cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-preferbssid_enable", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"sta"}, "cbip-wireless-<% cfg_get("networkName") %>-preferbssid_enable");
        </script>
    
    <div class="cbi-value" id="cbi-wireless-<% cfg_get("networkName") %>-bssid"><label class="cbi-value-title" for="cbid.wireless.<% cfg_get("networkName") %>.bssid">Preferred BSSID</label>
            <div class="cbi-value-field">
    
        <input type="text" class="cbi-input-text" onchange="cbi_d_update(this.id)" name="cbid.wireless.<% cfg_get("networkName") %>.bssid" id="cbid.wireless.<% cfg_get("networkName") %>.bssid" value="" />
        
                </div></div>
    
    
    <script type="text/javascript" id="cbip-wireless-<% cfg_get("networkName") %>-bssid">
            
            cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-bssid", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"sta"}, "cbip-wireless-<% cfg_get("networkName") %>-bssid");
        </script>
    
    <div class="cbi-value cbi-value-last" id="cbi-wireless-<% cfg_get("networkName") %>-ssid"><label class="cbi-value-title" for="cbid.wireless.<% cfg_get("networkName") %>.ssid">SSID</label>
            <div class="cbi-value-field">
    
        <input type="text" class="cbi-input-text" onchange="cbi_d_update(this.id)" name="cbid.wireless.<% cfg_get("networkName") %>.ssid" id="cbid.wireless.<% cfg_get("networkName") %>.ssid" value="WAX214_SSID1" maxlength="32" />
        
                </div></div>
    
    
    <script type="text/javascript" id="cbip-wireless-<% cfg_get("networkName") %>-ssid">
            
            cbi_d_add("cbi-wireless-<% cfg_get("networkName") %>-ssid", {"cbid.wireless.<% cfg_get("networkName") %>.mode":"sta"}, "cbip-wireless-<% cfg_get("networkName") %>-ssid");
        </script>
    
    
    
    
    
    
    
    
            </div>
            <br />
        </fieldset>
    
    <!-- /nsection -->
    
        <br />
    </div>
    <div class="cbi-map" id="cbi-wireless">
        
        
        <fieldset class="cbi-section" id="cbi-wireless-<% cfg_get("networkName") %>">
            
            
            
            
            <div class="cbi-section-node" id="cbi-wireless-<% cfg_get("networkName") %>">
                
    
    
        <div class="cbi-value cbi-value-last" id="cbi-wireless-<% cfg_get("networkName") %>-fastroamingEnable"><label class="cbi-value-title" for="cbid.wireless.<% cfg_get("networkName") %>.fastroamingEnable">$status</label>
            <div class="cbi-value-field">
    
    
        <input class="cbi-input-radio" onclick="cbi_d_update(this.id)" onchange="cbi_d_update(this.id)" type="radio" id="cbid.wireless.<% cfg_get("networkName") %>.fastroamingEnable1" name="cbid.wireless.<% cfg_get("networkName") %>.fastroamingEnable" value="1" />
        <label for="cbid.wireless.<% cfg_get("networkName") %>.fastroamingEnable1">$enable</label>
    &#160;
    
        <input class="cbi-input-radio" onclick="cbi_d_update(this.id)" onchange="cbi_d_update(this.id)" type="radio" id="cbid.wireless.<% cfg_get("networkName") %>.fastroamingEnable1" name="cbid.wireless.<% cfg_get("networkName") %>.fastroamingEnable" value="0" checked="checked" />
        <label for="cbid.wireless.<% cfg_get("networkName") %>.fastroamingEnable1">$disable</label>
    &#160;
    
    
            </div></div>
    
    
    
    
    
    
    
    
    
    
    
            </div>
            <br />
        </fieldset>
    
    <!-- /nsection -->
    
        <br />
    </div>
        </div>
        <input type="hidden" name="opmode" value="ap"/>
        <input type="hidden" name="device" value=""/>
        <div class="ctx-head"></div>
    
        <div class="ctx-body">
        <div id="tbl_1" class="table bottommargin"></div>
            <table class="ecm-tbl" id="tbl_ssid">
                <tr>
                    <th width="30%" colspan="2" class="title"><script type="text/javascript">document.write(titleSetting)</script></th>
                </tr>
            </table>
        </div>
    
        <!--Wireless basic setting table -->
        <div class="ctx-body">
        <div id="tbl_6" class="table bottommargin"></div>
            <table class="ecm-tbl" id="tbl_wireless_setting">
                <tr>
                    <th width="30%" colspan="2" class="title"><script type="text/javascript">document.write(titleBasicSetting)</script></th>
                </tr>
                <tr style="display:none;">
                    <td class="tbl-blank" width="30%" colspan="2"></td>
                </tr>
            </table>
        </div>
    
        <!--Band steering table -->
        <div class="ctx-body"> 
        <div id="tbl_7" class="table bottommargin"></div>
            <table class="ecm-tbl" id="tbl_bandsteering">             
                <tr>
                    <th width="30%" colspan="2" class="title"><script type="text/javascript">document.write("Band Steering")</script></th>
                </tr>
                <tr style="display:none;">               
                    <td class="tbl-blank" width="30%" colspan="2"></td>    
                </tr>                                           
            </table>                                                            
        </div>
    
        <div class="ctx-body">
        <div id="tbl_2" class="table bottommargin"></div>
            <table class="ecm-tbl" id="tbl_security">
    
                <tr>
    
                    <th width="30%" colspan="2" class="title"><script type="text/javascript">document.write(titleSec)</script></th>
                </tr>
                <tr style="display:none;">
                    <td class="tbl-blank" width="30%" colspan="2"></td>
                </tr>
            </table>
        </div>
    
    
    
    
    <script>
    $$(function() {
        var nasid = repSpec("");
        $$('input[name$$="nasid"]').val(nasid);
    });
    </script>
    
        <div class="ctx-body">
        <div  class="table bottommargin"></div>
            <table class="ecm-tbl" id="tbl_radius_settings">
                <tr>
                    <th width="30%" colspan="2" class="title">$radius_settings</th>
                </tr>
                 <tr  class="title-option">
    
                    <td width="30%"><input type="checkbox" name="nasid_enable_gui"  ><input type="hidden" name="cbid.wireless.<% cfg_get("networkName") %>.nasid_enable">$nas_id</td>
                    <td><input type="text" maxlength="32" name="cbid.wireless.<% cfg_get("networkName") %>.nasid" ></td>
                </tr>
                <tr  class="title-option">
                    <td width="30%"><input type="checkbox" name="nasport_enable_gui"  ><input type="hidden" name="cbid.wireless.<% cfg_get("networkName") %>.nasport_enable">$nas_port</td>
                    <td><input type="text" maxlength="5" name="cbid.wireless.<% cfg_get("networkName") %>.nasport" value="">(0 ~ 65535)</td>
                </tr>
    
                <tr  class="title-option">
                    <td width="30%"><input type="checkbox" name="nasip_enable_gui"  ><input type="hidden" name="cbid.wireless.<% cfg_get("networkName") %>.nasip_enable">$nas_ip</td>
                    <td><input type="text" maxlength="39" name="cbid.wireless.<% cfg_get("networkName") %>.nasip" value=""></td>
                </tr>
            </table>
        </div>
    
    
    
        <div class="ctx-body">
        <div  class="table bottommargin"></div>
            <table class="ecm-tbl" id="tbl_radius_acctounting">
                <tr>
                    <th width="30%" colspan="2" class="title">$radius_account</th>
                </tr>
            </table>
        </div>
    
    
        <div class="ctx-body">
        <div id="tbl_3" class="table bottommargin"></div>
            <table class="ecm-tbl" id="tbl_fastroaming">
                <tr>
                    <th width="30%" colspan="2" class="title">$fast_roaming<img class="popper" data-popbox="Fast_Roaming_info" src="image/icon_info_blue.png"></th>
                </tr>
            </table>
        </div>
    
        <div class="ctx-body">
            <div id="tbl_4" class="table bottommargin"></div>
            <table class="ecm-tbl" id="tbl_macfilter">
                <tr>
                    <th width="30%" colspan="2" class="title">$wireless_mac_filter</th>
                </tr>
            </table>
        </div>
        <div class="ctx-body">
        <div id="tbl_5" class="table bottommargin"></div>
             <table class="ecm-tbl" id="tbl_tc" style="display: none;">
                    <tr>
                        <th width="30%" colspan="2" class="title">$wireless_trffic_shaping</th>
                    </tr>
            </table>
            <br>
            <div class="cbi-page-actions">
                <!--input class="cbi-button cbi-button-apply" type="submit" name="cbi.apply" value="Save &#38; Apply" /-->
    
                <input style="width:auto;" class="cbi-button cbi-button-save" id="encryption_submit" type="button" onclick='wifiEncryptionCombinedApply()' value="$apply"/>&nbsp;<span class="btn_desc">$apply_saved_settings_to_take_effect</span>
                <!--input class="cbi-button cbi-button-reset" type="reset" value="Reset" /-->
            </div>
        </div>
    </form>
    <script type="text/javascript">cbi_d_update();</script>
    <span id="bssid_span" style="display:none">
                                <input id='cbid.wireless.<% cfg_get("networkName") %>.bssid1' type="text" name='bssid0' maxlength="2" size="2" disabled>
                                :
                                <input id='cbid.wireless.<% cfg_get("networkName") %>.bssid2' type="text" name='bssid1' maxlength="2" size="2" disabled>
                                :
                                <input id='cbid.wireless.<% cfg_get("networkName") %>.bssid3' type="text" name='bssid2' maxlength="2" size="2" disabled>
                                :
                                <input id='cbid.wireless.<% cfg_get("networkName") %>.bssid4' type="text" name='bssid3' maxlength="2" size="2" disabled>
                                :
                                <input id='cbid.wireless.<% cfg_get("networkName") %>.bssid5' type="text" name='bssid4' maxlength="2" size="2" disabled>
                                :
                                <input id='cbid.wireless.<% cfg_get("networkName") %>.bssid6' type="text" name='bssid5' maxlength="2" size="2" disabled>
    </span>
    <span id="acl_span" style="display:none">
                                <input id='aclid0' type="text" name='aclid0' maxlength="2" size="2" disabled>
                                :
                                <input id='aclid1' type="text" name='aclid1' maxlength="2" size="2" disabled>
                                :
                                <input id='aclid2' type="text" name='aclid2' maxlength="2" size="2" disabled>
                                :
                                <input id='aclid3' type="text" name='aclid3' maxlength="2" size="2" disabled>
                                :
                                <input id='aclid4' type="text" name='aclid4' maxlength="2" size="2" disabled>
                                :
                                <input id='aclid5' type="text" name='aclid5' maxlength="2" size="2" disabled>
                                <input class="cbi-button" id="acl_btn" name="acl_btn" type="button" value="$add" disabled>
    </span>
    </body>
    </html>
    